var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{};function e(t){return t&&t.__esModule?t.default:t}function n(){}function o(t,e){for(const n in e)t[n]=e[n];return t}function l(t){return t()}function s(){return Object.create(null)}function i(t){t.forEach(l)}function r(t){return"function"==typeof t}function c(t,e){return t!=t?e==e:t!==e||t&&"object"==typeof t||"function"==typeof t}function a(t){return 0===Object.keys(t).length}function p(t,e,n,l){return t[1]&&l?o(n.ctx.slice(),t[1](l(e))):n.ctx}function d(t,e,n,o){if(t[2]&&o){const l=t[2](o(n));if(void 0===e.dirty)return l;if("object"==typeof l){const t=[],n=Math.max(e.dirty.length,l.length);for(let o=0;o<n;o+=1)t[o]=e.dirty[o]|l[o];return t}return e.dirty|l}return e.dirty}function u(t,e,n,o,l,s){if(l){const i=p(e,n,o,s);t.p(i,l)}}new Set;let f=!1;function g(t,e){t.appendChild(e)}function h(t,e,n){const o=v(t);if(!o.getElementById(e)){const t=w("style");t.id=e,t.textContent=n,m(o,t)}}function v(t){if(!t)return document;const e=t.getRootNode?t.getRootNode():t.ownerDocument;return e&&e.host?e:t.ownerDocument}function m(t,e){g(t.head||t,e)}function $(t,e,n){t.insertBefore(e,n||null)}function x(t){t.parentNode.removeChild(t)}function b(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}function w(t){return document.createElement(t)}function y(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function k(t){return document.createTextNode(t)}function q(){return k(" ")}function _(){return k("")}function z(t,e,n,o){return t.addEventListener(e,n,o),()=>t.removeEventListener(e,n,o)}function C(t,e,n){null==n?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function S(t){return""===t?null:+t}function N(t,e){e=""+e,t.wholeText!==e&&(t.data=e)}function T(t,e){t.value=null==e?"":e}function E(t,e,n,o){null===n?t.style.removeProperty(e):t.style.setProperty(e,n,o?"important":"")}function L(t,e){for(let n=0;n<t.options.length;n+=1){const o=t.options[n];if(o.__value===e)return void(o.selected=!0)}t.selectedIndex=-1}function M(t){const e=t.querySelector(":checked")||t.options[0];return e&&e.__value}function I(t,e,{bubbles:n=!1,cancelable:o=!1}={}){const l=document.createEvent("CustomEvent");return l.initCustomEvent(t,n,o,e),l}new Map;let A;function D(t){A=t}function j(){if(!A)throw new Error("Function called outside component initialization");return A}function O(t){j().$$.on_mount.push(t)}function W(){const t=j();return(e,n,{cancelable:o=!1}={})=>{const l=t.$$.callbacks[e];if(l){const s=I(e,n,{cancelable:o});return l.slice().forEach((e=>{e.call(t,s)})),!s.defaultPrevented}return!0}}function R(t,e){return j().$$.context.set(t,e),e}function V(t){return j().$$.context.get(t)}const B=[],H=[],P=[],J=[],G=Promise.resolve();let U=!1;function F(){U||(U=!0,G.then(Z))}function K(t){P.push(t)}function Q(t){J.push(t)}const X=new Set;let Y=0;function Z(){const t=A;do{for(;Y<B.length;){const t=B[Y];Y++,D(t),tt(t.$$)}for(D(null),B.length=0,Y=0;H.length;)H.pop()();for(let t=0;t<P.length;t+=1){const e=P[t];X.has(e)||(X.add(e),e())}P.length=0}while(B.length);for(;J.length;)J.pop()();U=!1,X.clear(),D(t)}function tt(t){if(null!==t.fragment){t.update(),i(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(K)}}const et=new Set;let nt;function ot(){nt={r:0,c:[],p:nt}}function lt(){nt.r||i(nt.c),nt=nt.p}function st(t,e){t&&t.i&&(et.delete(t),t.i(e))}function it(t,e,n,o){if(t&&t.o){if(et.has(t))return;et.add(t),nt.c.push((()=>{et.delete(t),o&&(n&&t.d(1),o())})),t.o(e)}}const rt="undefined"!=typeof window?window:"undefined"!=typeof globalThis?globalThis:t;new Set(["allowfullscreen","allowpaymentrequest","async","autofocus","autoplay","checked","controls","default","defer","disabled","formnovalidate","hidden","ismap","loop","multiple","muted","nomodule","novalidate","open","playsinline","readonly","required","reversed","selected"]);let ct;function at(t,e,n){const o=t.$$.props[e];void 0!==o&&(t.$$.bound[o]=n,n(t.$$.ctx[o]))}function pt(t){t&&t.c()}function dt(t,e,n,o){const{fragment:s,on_mount:c,on_destroy:a,after_update:p}=t.$$;s&&s.m(e,n),o||K((()=>{const e=c.map(l).filter(r);a?a.push(...e):i(e),t.$$.on_mount=[]})),p.forEach(K)}function ut(t,e){const n=t.$$;null!==n.fragment&&(i(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function ft(t,e,o,l,r,c,a,p=[-1]){const d=A;D(t);const u=t.$$={fragment:null,ctx:null,props:c,update:n,not_equal:r,bound:s(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(d?d.$$.context:[])),callbacks:s(),dirty:p,skip_bound:!1,root:e.target||d.$$.root};a&&a(u.root);let g=!1;if(u.ctx=o?o(t,e.props||{},((e,n,...o)=>{const l=o.length?o[0]:n;return u.ctx&&r(u.ctx[e],u.ctx[e]=l)&&(!u.skip_bound&&u.bound[e]&&u.bound[e](l),g&&function(t,e){-1===t.$$.dirty[0]&&(B.push(t),F(),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}(t,e)),n})):[],u.update(),g=!0,i(u.before_update),u.fragment=!!l&&l(u.ctx),e.target){if(e.hydrate){f=!0;const t=function(t){return Array.from(t.childNodes)}(e.target);u.fragment&&u.fragment.l(t),t.forEach(x)}else u.fragment&&u.fragment.c();e.intro&&st(t.$$.fragment),dt(t,e.target,e.anchor,e.customElement),f=!1,Z()}D(d)}"function"==typeof HTMLElement&&(ct=class extends HTMLElement{constructor(){super(),this.attachShadow({mode:"open"})}connectedCallback(){const{on_mount:t}=this.$$;this.$$.on_disconnect=t.map(l).filter(r);for(const t in this.$$.slotted)this.appendChild(this.$$.slotted[t])}attributeChangedCallback(t,e,n){this[t]=n}disconnectedCallback(){i(this.$$.on_disconnect)}$destroy(){ut(this,1),this.$destroy=n}$on(t,e){const n=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return n.push(e),()=>{const t=n.indexOf(e);-1!==t&&n.splice(t,1)}}$set(t){this.$$set&&!a(t)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}});class gt{$destroy(){ut(this,1),this.$destroy=n}$on(t,e){const n=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return n.push(e),()=>{const t=n.indexOf(e);-1!==t&&n.splice(t,1)}}$set(t){this.$$set&&!a(t)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}function ht(t){h(t,"svelte-r8xme6","@import url('https://fonts.googleapis.com/css2?family=Roboto+Mono:wght@300&family=Roboto:wght@100;300;400;500&display=swap');.nav-bar.svelte-r8xme6{width:100%;height:60px;background-color:rgb(36, 36, 36);box-shadow:0 -10px 15px;display:flex;align-items:center;color:white}.nav-banner.svelte-r8xme6{display:inline-block;margin-left:45px;margin-right:160px;text-align:center;font-size:24px;cursor:pointer}.brand-segment-lowcode.svelte-r8xme6{font-weight:300;font-family:'Roboto Mono', monospace}.brand-segment-devkit.svelte-r8xme6{font-weight:500;font-family:'Roboto', sans-serif;color:rgb(234, 136, 0);font-size:25px}.nav-items.svelte-r8xme6{display:inline-block;font-family:'Roboto', sans-serif}.nav-item.svelte-r8xme6{display:inline-block;margin-right:30px;font-size:18px;font-weight:300}.nav-active.svelte-r8xme6{font-size:22px;margin-right:45px;font-weight:400}")}function vt(t){let e,o,l,s,i,r;return{c(){e=w("nav"),o=w("div"),o.innerHTML='<span class="brand-segment-lowcode svelte-r8xme6">lowcode</span><span class="brand-segment-devkit svelte-r8xme6">DevKit</span>',l=q(),s=w("div"),s.innerHTML='<div class="nav-item nav-active svelte-r8xme6">Editor</div> \n    <div class="nav-item svelte-r8xme6">Activity</div>',C(o,"class","nav-banner svelte-r8xme6"),C(s,"class","nav-items svelte-r8xme6"),C(e,"class","nav-bar svelte-r8xme6")},m(n,c){$(n,e,c),g(e,o),g(e,l),g(e,s),i||(r=z(o,"click",t[1]),i=!0)},p:n,i:n,o:n,d(t){t&&x(e),i=!1,r()}}}function mt(t){let e=V("history");return[e,()=>e.pushState("/")]}var $t=class extends gt{constructor(t){super(),ft(this,t,mt,vt,c,{},ht)}};let xt=null;var bt={getMetadata:async()=>xt||=await fetch("http://localhost:3000/lcdk/meta").then((t=>t.json())),getAllWorkflows:async()=>await fetch("http://localhost:3000/lcdk/workflows").then((t=>t.json())),getWorkflow:async t=>await fetch(`http://localhost:3000/lcdk/workflows/${t}`).then((t=>t.json())),createWorkflow:async t=>await fetch("http://localhost:3000/lcdk/workflows",{method:"POST",body:JSON.stringify(t),headers:{"Content-Type":"application/json"}}).then((t=>t.json())),updateWorkflow:async(t,e)=>await fetch(`http://localhost:3000/lcdk/workflows/${t}`,{method:"PUT",body:JSON.stringify(e),headers:{"Content-Type":"application/json"}}).then((t=>t.json())),async deleteWorkflows(t){await fetch(`http://localhost:3000/lcdk/workflows/${t}`,{method:"DELETE"})}};function wt(t){h(t,"svelte-1u8kct",".content-area.svelte-1u8kct.svelte-1u8kct{padding:35px 50px 35px 50px;max-width:1100px;margin-right:auto;margin-left:auto}.section-name.svelte-1u8kct.svelte-1u8kct{font-family:'Roboto', 'sans-serif';font-weight:400;font-size:40px;margin-left:10px}.btn.svelte-1u8kct.svelte-1u8kct{font-size:18px;font-weight:300;margin-left:15px;border:1px solid gainsboro;padding:5px 10px 5px 10px;border-radius:2px;vertical-align:middle;box-shadow:0px 2px 10px -8px;background-color:rgb(250, 250, 250)}.btn.svelte-1u8kct.svelte-1u8kct:hover{cursor:pointer}.section-container.svelte-1u8kct.svelte-1u8kct{width:100%;min-height:300px;border:1px solid gainsboro;border-radius:2px;background-color:rgb(250, 250, 250);box-shadow:0px 3px 20px -12px;padding:0 15px 15px 15px;margin-bottom:30px}.section-table.svelte-1u8kct.svelte-1u8kct{width:100%;border-collapse:collapse}.section-header.svelte-1u8kct.svelte-1u8kct{text-align:left;padding-bottom:10px}.section-row.svelte-1u8kct.svelte-1u8kct{max-height:20px}.section-row.svelte-1u8kct.svelte-1u8kct:hover{cursor:pointer;background-color:rgb(229, 227, 227)}.components-section.svelte-1u8kct.svelte-1u8kct{display:flex}.component-col.svelte-1u8kct.svelte-1u8kct{width:calc(100% / 3);padding:20px;border:1px solid gainsboro;border-radius:2px;background-color:rgb(250, 250, 250);box-shadow:0px 3px 20px -12px}.component-col.svelte-1u8kct.svelte-1u8kct:not(:last-child){margin-right:15px}.component-col-header.svelte-1u8kct.svelte-1u8kct{font-size:20px;font-weight:500}.component-col-row.svelte-1u8kct.svelte-1u8kct{margin-top:10px}.section-row.svelte-1u8kct>.svelte-1u8kct:first-child,.section-header.svelte-1u8kct>.svelte-1u8kct:first-child{padding-left:15px}")}function yt(t,e,n){const o=t.slice();return o[7]=e[n],o}function kt(t,e,n){const o=t.slice();return o[10]=e[n],o}function qt(t,e,n){const o=t.slice();return o[13]=e[n],o}function _t(t,e,n){const o=t.slice();return o[7]=e[n],o}function zt(t){let e,n,o,l,s,i,r,c,a,p,d,u,f=t[7].title+"",h=t[7].type+"",v=t[7].lastModifiedAt+"";function m(){return t[5](t[7])}return{c(){e=w("tr"),n=w("td"),o=k(f),l=q(),s=w("td"),i=k(h),r=q(),c=w("td"),a=k(v),p=q(),C(n,"class","svelte-1u8kct"),C(s,"class","svelte-1u8kct"),C(c,"class","svelte-1u8kct"),C(e,"class","section-row svelte-1u8kct"),C(e,"height","40px")},m(t,f){$(t,e,f),g(e,n),g(n,o),g(e,l),g(e,s),g(s,i),g(e,r),g(e,c),g(c,a),g(e,p),d||(u=z(e,"click",m),d=!0)},p(e,n){t=e,2&n&&f!==(f=t[7].title+"")&&N(o,f),2&n&&h!==(h=t[7].type+"")&&N(i,h),2&n&&v!==(v=t[7].lastModifiedAt+"")&&N(a,v)},d(t){t&&x(e),d=!1,u()}}}function Ct(t){let e,n,o=t[13].title+"";return{c(){e=w("div"),n=k(o),C(e,"class","component-col-row svelte-1u8kct")},m(t,o){$(t,e,o),g(e,n)},p(t,e){1&e&&o!==(o=t[13].title+"")&&N(n,o)},d(t){t&&x(e)}}}function St(t){let e,n,o=t[10].title+"";return{c(){e=w("div"),n=k(o),C(e,"class","component-col-row svelte-1u8kct")},m(t,o){$(t,e,o),g(e,n)},p(t,e){1&e&&o!==(o=t[10].title+"")&&N(n,o)},d(t){t&&x(e)}}}function Nt(t){let e,n,o=t[7].title+"";return{c(){e=w("div"),n=k(o),C(e,"class","component-col-row svelte-1u8kct")},m(t,o){$(t,e,o),g(e,n)},p(t,e){1&e&&o!==(o=t[7].title+"")&&N(n,o)},d(t){t&&x(e)}}}function Tt(t){let e,o,l,s,i,r,c,a,p,d,u,f,h,v,m,y,_,S,N,T,E,L,M,I,A,D,j=t[1],O=[];for(let e=0;e<j.length;e+=1)O[e]=zt(_t(t,j,e));let W=t[0]?.eventDefs||[],R=[];for(let e=0;e<W.length;e+=1)R[e]=Ct(qt(t,W,e));let V=t[0]?.actionDefs||[],B=[];for(let e=0;e<V.length;e+=1)B[e]=St(kt(t,V,e));let H=t[0]?.workflowDefs||[],P=[];for(let e=0;e<H.length;e+=1)P[e]=Nt(yt(t,H,e));return{c(){e=w("div"),o=w("h2"),l=k("Workflows\r\n    "),s=w("span"),s.textContent="New +",i=q(),r=w("div"),c=w("table"),a=w("tr"),a.innerHTML='<th class="svelte-1u8kct">Title</th> \n        <th class="svelte-1u8kct">Type</th> \n        <th class="svelte-1u8kct">Last Modified</th>',p=q();for(let t=0;t<O.length;t+=1)O[t].c();d=q(),u=w("h2"),u.textContent="Components",f=q(),h=w("div"),v=w("div"),m=w("div"),m.textContent="Events",y=q();for(let t=0;t<R.length;t+=1)R[t].c();_=q(),S=w("div"),N=w("div"),N.textContent="Actions",T=q();for(let t=0;t<B.length;t+=1)B[t].c();E=q(),L=w("div"),M=w("div"),M.textContent="Templates",I=q();for(let t=0;t<P.length;t+=1)P[t].c();C(s,"class","btn svelte-1u8kct"),C(o,"class","section-name svelte-1u8kct"),C(a,"height","60px"),C(a,"class","section-header svelte-1u8kct"),C(c,"class","section-table svelte-1u8kct"),C(r,"class","section-container svelte-1u8kct"),C(u,"class","section-name svelte-1u8kct"),C(m,"class","component-col-header svelte-1u8kct"),C(v,"class","component-col svelte-1u8kct"),C(N,"class","component-col-header svelte-1u8kct"),C(S,"class","component-col svelte-1u8kct"),C(M,"class","component-col-header svelte-1u8kct"),C(L,"class","component-col svelte-1u8kct"),C(h,"class","components-section svelte-1u8kct"),C(e,"class","content-area svelte-1u8kct")},m(n,x){$(n,e,x),g(e,o),g(o,l),g(o,s),g(e,i),g(e,r),g(r,c),g(c,a),g(c,p);for(let t=0;t<O.length;t+=1)O[t].m(c,null);g(e,d),g(e,u),g(e,f),g(e,h),g(h,v),g(v,m),g(v,y);for(let t=0;t<R.length;t+=1)R[t].m(v,null);g(h,_),g(h,S),g(S,N),g(S,T);for(let t=0;t<B.length;t+=1)B[t].m(S,null);g(h,E),g(h,L),g(L,M),g(L,I);for(let t=0;t<P.length;t+=1)P[t].m(L,null);A||(D=z(s,"click",t[2]),A=!0)},p(t,[e]){if(10&e){let n;for(j=t[1],n=0;n<j.length;n+=1){const o=_t(t,j,n);O[n]?O[n].p(o,e):(O[n]=zt(o),O[n].c(),O[n].m(c,null))}for(;n<O.length;n+=1)O[n].d(1);O.length=j.length}if(1&e){let n;for(W=t[0]?.eventDefs||[],n=0;n<W.length;n+=1){const o=qt(t,W,n);R[n]?R[n].p(o,e):(R[n]=Ct(o),R[n].c(),R[n].m(v,null))}for(;n<R.length;n+=1)R[n].d(1);R.length=W.length}if(1&e){let n;for(V=t[0]?.actionDefs||[],n=0;n<V.length;n+=1){const o=kt(t,V,n);B[n]?B[n].p(o,e):(B[n]=St(o),B[n].c(),B[n].m(S,null))}for(;n<B.length;n+=1)B[n].d(1);B.length=V.length}if(1&e){let n;for(H=t[0]?.workflowDefs||[],n=0;n<H.length;n+=1){const o=yt(t,H,n);P[n]?P[n].p(o,e):(P[n]=Nt(o),P[n].c(),P[n].m(L,null))}for(;n<P.length;n+=1)P[n].d(1);P.length=H.length}},i:n,o:n,d(t){t&&x(e),b(O,t),b(R,t),b(B,t),b(P,t),A=!1,D()}}}function Et(t,e,n){let o,l,s=[],i=V("history");function r(t){i.pushState(`/workflow/?workflow-id=${t}`)}return t.$$.update=()=>{16&t.$$.dirty&&(o||bt.getAllWorkflows().then((t=>n(1,s=t)))),1&t.$$.dirty&&(l||bt.getMetadata().then((t=>n(0,l=t))))},[l,s,function(){n(4,o={triggers:[],path:{id:0,kind:"path",steps:[]}})},r,o,t=>r(t.id)]}var Lt=class extends gt{constructor(t){super(),ft(this,t,Et,Tt,c,{},wt)}};function Mt(t){let e,o,l,s,i,c;const a=t[2].default,f=function(t,e,n,o){if(t){const l=p(t,e,n,o);return t[0](l)}}(a,t,t[1],null);return{c(){e=w("div"),o=w("div"),f&&f.c(),o.hidden=!0},m(a,p){var d;$(a,e,p),g(e,o),f&&f.m(o,null),s=!0,i||(d=l=It.call(null,e,t[0]),c=d&&r(d.destroy)?d.destroy:n,i=!0)},p(t,[e]){f&&f.p&&(!s||2&e)&&u(f,a,t,t[1],s?d(a,t[1],e,null):function(t){if(t.ctx.length>32){const e=[],n=t.ctx.length/32;for(let t=0;t<n;t++)e[t]=-1;return e}return-1}(t[1]),null),l&&r(l.update)&&1&e&&l.update.call(null,t[0])},i(t){s||(st(f,t),s=!0)},o(t){it(f,t),s=!1},d(t){t&&x(e),f&&f.d(t),i=!1,c()}}}function It(t,e="body"){let n,o=t.children[0];async function l(t){if("string"==typeof(e=t)){if(n=document.querySelector(e),null===n&&(await(F(),G),n=document.querySelector(e)),null===n)throw new Error(`No element found matching css selector: "${e}"`)}else{if(!(e instanceof HTMLElement))throw new TypeError(`Unknown portal target type: ${null===e?"null":typeof e}. Allowed types: string (CSS selector) or HTMLElement.`);n=e}n.appendChild(o),o.hidden=!1}let s=At(t);return o.setAttribute("style",`position: absolute; left: ${s.offsetLeft}px; top: ${s.offsetTop}px;`),l(e),{update:l,destroy:function(){o.parentNode&&o.parentNode.removeChild(o)}}}function At(t){let{offsetTop:e,offsetLeft:n}=t;if(t.offsetParent){let o=At(t.offsetParent);e+=o.offsetTop,n+=o.offsetLeft}return{offsetTop:e,offsetLeft:n}}function Dt(t,e,n){let{$$slots:o={},$$scope:l}=e,{target:s="body"}=e;return t.$$set=t=>{"target"in t&&n(0,s=t.target),"$$scope"in t&&n(1,l=t.$$scope)},[s,l,o]}var jt=class extends gt{constructor(t){super(),ft(this,t,Dt,Mt,c,{target:0})}};function Ot(t){h(t,"svelte-17ph7tr",".logic-if-else-expression.svelte-17ph7tr{display:flex;flex-direction:row;border:1.75px solid #ff9120;border-radius:2px;flex-wrap:wrap;padding:5px;background-color:rgb(253 246 234);gap:7px 7px}.section.svelte-17ph7tr{display:flex;flex-direction:row;flex-wrap:nowrap;gap:7px 7px}")}function Wt(t,e,n){const o=t.slice();return o[7]=e[n],o}function Rt(t){let e,o,l,s=t[7].type+"";return{c(){e=w("option"),o=k(s),e.__value=l=t[7],e.value=e.__value},m(t,n){$(t,e,n),g(e,o)},p:n,d(t){t&&x(e)}}}function Vt(t){let e,o,l,s,r,c,a,p,d,u,f,h,v,m=t[1],y=[];for(let e=0;e<m.length;e+=1)y[e]=Rt(Wt(t,m,e));return{c(){e=w("div"),o=w("div"),l=w("select"),s=w("option"),r=k("Select Action");for(let t=0;t<y.length;t+=1)y[t].c();c=q(),a=w("div"),a.textContent="Output:",p=q(),d=w("select"),u=w("option"),f=k("Select"),s.__value=void 0,s.value=s.__value,void 0===t[0].settings.actionId&&K((()=>t[2].call(l))),u.__value=void 0,u.value=u.__value,void 0===t[0].settings.outputName&&K((()=>t[3].call(d))),C(o,"class","if-section section svelte-17ph7tr"),C(e,"class","logic-if-else-expression svelte-17ph7tr")},m(n,i){$(n,e,i),g(e,o),g(o,l),g(l,s),g(s,r);for(let t=0;t<y.length;t+=1)y[t].m(l,null);L(l,t[0].settings.actionId),g(o,c),g(o,a),g(o,p),g(o,d),g(d,u),g(u,f),L(d,t[0].settings.outputName),h||(v=[z(l,"change",t[2]),z(d,"change",t[3])],h=!0)},p(t,[e]){if(2&e){let n;for(m=t[1],n=0;n<m.length;n+=1){const o=Wt(t,m,n);y[n]?y[n].p(o,e):(y[n]=Rt(o),y[n].c(),y[n].m(l,null))}for(;n<y.length;n+=1)y[n].d(1);y.length=m.length}3&e&&L(l,t[0].settings.actionId),3&e&&L(d,t[0].settings.outputName)},i:n,o:n,d(t){t&&x(e),b(y,t),h=!1,i(v)}}}function Bt(t,e,n){let{def:o}=e,l=[...V("parents")],s=l.pop(),i=l.pop();console.log(i);let r=i.steps.slice(0,i.steps.indexOf(s)).filter((t=>"action"===t.kind));return t.$$set=t=>{"def"in t&&n(0,o=t.def)},t.$$.update=()=>{1&t.$$.dirty&&(o.settings||n(0,o.settings={actionId:null,outputName:null},o))},[o,r,function(){o.settings.actionId=M(this),n(0,o),n(1,r)},function(){o.settings.outputName=M(this),n(0,o),n(1,r)}]}var Ht=class extends gt{constructor(t){super(),ft(this,t,Bt,Vt,c,{def:0},Ot)}};function Pt(t){h(t,"svelte-1qidylm","input.svelte-1qidylm{background-color:rgb(243 243 251);border:1.75px solid rgb(38, 38, 205);border-radius:2px}")}function Jt(t){let e,o,l;return{c(){e=w("input"),C(e,"type","text"),C(e,"class","svelte-1qidylm")},m(n,s){$(n,e,s),T(e,t[0].inputs.value),o||(l=z(e,"input",t[1]),o=!0)},p(t,[n]){1&n&&e.value!==t[0].inputs.value&&T(e,t[0].inputs.value)},i:n,o:n,d(t){t&&x(e),o=!1,l()}}}function Gt(t,e,n){let{def:o}=e;return t.$$set=t=>{"def"in t&&n(0,o=t.def)},t.$$.update=()=>{1&t.$$.dirty&&(o.inputs||n(0,o.inputs={value:null},o))},[o,function(){o.inputs.value=this.value,n(0,o)}]}var Ut=class extends gt{constructor(t){super(),ft(this,t,Gt,Jt,c,{def:0},Pt)}};function Ft(t){h(t,"svelte-1nlw00k","input.svelte-1nlw00k{background-color:rgb(255 255 236);border:1.75px solid rgb(194, 194, 19);border-radius:2px}")}function Kt(t){let e,o,l;return{c(){e=w("input"),C(e,"type","number"),C(e,"class","svelte-1nlw00k")},m(n,s){$(n,e,s),T(e,t[0].inputs.value),o||(l=z(e,"input",t[1]),o=!0)},p(t,[n]){1&n&&S(e.value)!==t[0].inputs.value&&T(e,t[0].inputs.value)},i:n,o:n,d(t){t&&x(e),o=!1,l()}}}function Qt(t,e,n){let{def:o}=e;return t.$$set=t=>{"def"in t&&n(0,o=t.def)},t.$$.update=()=>{1&t.$$.dirty&&(o.inputs||n(0,o.inputs={value:null},o))},[o,function(){o.inputs.value=S(this.value),n(0,o)}]}var Xt=class extends gt{constructor(t){super(),ft(this,t,Qt,Kt,c,{def:0},Ft)}};function Yt(t){h(t,"svelte-1bbmcy0",".decision-expression.svelte-1bbmcy0.svelte-1bbmcy0{display:flex;flex-direction:row;border:1.75px solid rgb(129, 70, 255);flex-wrap:wrap;padding:7px;background-color:rgb(243 237 255);gap:7px 7px;border-radius:2px}.decision-expression.svelte-1bbmcy0>div.svelte-1bbmcy0{display:flex;flex-direction:row;flex-wrap:nowrap;gap:7px 7px}")}function Zt(t){let e,n,o,l,s,i,r,c,a,p,d,u,f,h,v,m,b,y,k;return i=new _e({props:{def:t[0].inputs.condition}}),u=new _e({props:{def:t[0].inputs.trueValue}}),y=new _e({props:{def:t[0].inputs.falseValue}}),{c(){e=w("div"),n=w("div"),o=w("div"),o.textContent="If",l=q(),s=w("div"),pt(i.$$.fragment),r=q(),c=w("div"),a=w("div"),a.textContent="Then",p=q(),d=w("div"),pt(u.$$.fragment),f=q(),h=w("div"),v=w("div"),v.textContent="Else",m=q(),b=w("div"),pt(y.$$.fragment),C(n,"class","svelte-1bbmcy0"),C(c,"class","svelte-1bbmcy0"),C(h,"class","svelte-1bbmcy0"),C(e,"class","decision-expression svelte-1bbmcy0")},m(t,x){$(t,e,x),g(e,n),g(n,o),g(n,l),g(n,s),dt(i,s,null),g(e,r),g(e,c),g(c,a),g(c,p),g(c,d),dt(u,d,null),g(e,f),g(e,h),g(h,v),g(h,m),g(h,b),dt(y,b,null),k=!0},p(t,[e]){const n={};1&e&&(n.def=t[0].inputs.condition),i.$set(n);const o={};1&e&&(o.def=t[0].inputs.trueValue),u.$set(o);const l={};1&e&&(l.def=t[0].inputs.falseValue),y.$set(l)},i(t){k||(st(i.$$.fragment,t),st(u.$$.fragment,t),st(y.$$.fragment,t),k=!0)},o(t){it(i.$$.fragment,t),it(u.$$.fragment,t),it(y.$$.fragment,t),k=!1},d(t){t&&x(e),ut(i),ut(u),ut(y)}}}function te(t,e,n){let{def:o}=e;return t.$$set=t=>{"def"in t&&n(0,o=t.def)},t.$$.update=()=>{1&t.$$.dirty&&(o.inputs||n(0,o.inputs={condition:{kind:"expression"},trueValue:{kind:"expression"},falseValue:{kind:"expression"}},o))},[o]}var ee=class extends gt{constructor(t){super(),ft(this,t,te,Zt,c,{def:0},Yt)}};function ne(t){h(t,"svelte-tbrw02",".condition-expression.svelte-tbrw02{display:flex;flex-direction:row;border:1.75px solid rgb(129, 70, 255);flex-wrap:wrap;padding:7px;background-color:rgb(243 237 255);gap:7px 7px;border-radius:2px}")}function oe(t){let e,n,o,l,s,i,r,c,a,p,d,u,f,h;return o=new _e({props:{def:t[0].inputs.firstValue}}),d=new _e({props:{def:t[0].inputs.secondValue}}),{c(){e=w("div"),n=w("div"),pt(o.$$.fragment),l=q(),s=w("select"),i=w("option"),i.textContent="Equals",r=w("option"),r.textContent="Is Less Than",c=w("option"),c.textContent="Is Greater Than",a=q(),p=w("div"),pt(d.$$.fragment),i.__value="==",i.value=i.__value,r.__value="<",r.value=r.__value,c.__value=">",c.value=c.__value,void 0===t[0].settings.conditionType&&K((()=>t[1].call(s))),C(e,"class","condition-expression svelte-tbrw02")},m(v,m){$(v,e,m),g(e,n),dt(o,n,null),g(e,l),g(e,s),g(s,i),g(s,r),g(s,c),L(s,t[0].settings.conditionType),g(e,a),g(e,p),dt(d,p,null),u=!0,f||(h=z(s,"change",t[1]),f=!0)},p(t,[e]){const n={};1&e&&(n.def=t[0].inputs.firstValue),o.$set(n),1&e&&L(s,t[0].settings.conditionType);const l={};1&e&&(l.def=t[0].inputs.secondValue),d.$set(l)},i(t){u||(st(o.$$.fragment,t),st(d.$$.fragment,t),u=!0)},o(t){it(o.$$.fragment,t),it(d.$$.fragment,t),u=!1},d(t){t&&x(e),ut(o),ut(d),f=!1,h()}}}function le(t,e,n){let{def:o}=e;return t.$$set=t=>{"def"in t&&n(0,o=t.def)},t.$$.update=()=>{1&t.$$.dirty&&(o.inputs||n(0,o.inputs={firstValue:{kind:"expression"},secondValue:{kind:"expression"}},o),o.settings||n(0,o.settings={conditionType:"=="},o))},[o,function(){o.settings.conditionType=M(this),n(0,o)}]}var se=class extends gt{constructor(t){super(),ft(this,t,le,oe,c,{def:0},ne)}};function ie(t){h(t,"svelte-1vig6ia",".and-or-expression.svelte-1vig6ia{display:flex;flex-direction:row;border:1.75px solid rgb(129, 70, 255);flex-wrap:wrap;padding:7px;background-color:rgb(243 237 255);gap:7px 7px;border-radius:2px}")}function re(t){let e,n,o,l,s,i,r,c,a,p,d,u,f;return o=new _e({props:{def:t[0].inputs.firstCondition}}),p=new _e({props:{def:t[0].inputs.secondCondition}}),{c(){e=w("div"),n=w("div"),pt(o.$$.fragment),l=q(),s=w("select"),i=w("option"),i.textContent="AND",r=w("option"),r.textContent="OR",c=q(),a=w("div"),pt(p.$$.fragment),i.__value="and",i.value=i.__value,r.__value="or",r.value=r.__value,void 0===t[0].settings.conditionGroupType&&K((()=>t[1].call(s))),C(e,"class","and-or-expression svelte-1vig6ia")},m(h,v){$(h,e,v),g(e,n),dt(o,n,null),g(e,l),g(e,s),g(s,i),g(s,r),L(s,t[0].settings.conditionGroupType),g(e,c),g(e,a),dt(p,a,null),d=!0,u||(f=z(s,"change",t[1]),u=!0)},p(t,[e]){const n={};1&e&&(n.def=t[0].inputs.firstCondition),o.$set(n),1&e&&L(s,t[0].settings.conditionGroupType);const l={};1&e&&(l.def=t[0].inputs.secondCondition),p.$set(l)},i(t){d||(st(o.$$.fragment,t),st(p.$$.fragment,t),d=!0)},o(t){it(o.$$.fragment,t),it(p.$$.fragment,t),d=!1},d(t){t&&x(e),ut(o),ut(p),u=!1,f()}}}function ce(t,e,n){let{def:o}=e;return t.$$set=t=>{"def"in t&&n(0,o=t.def)},t.$$.update=()=>{1&t.$$.dirty&&(o.inputs||n(0,o.inputs={firstCondition:{kind:"expression"},secondCondition:{kind:"expression"}},o),o.settings||n(0,o.settings={conditionGroupType:"and"},o))},[o,function(){o.settings.conditionGroupType=M(this),n(0,o)}]}var ae={categories:[{title:"Core",expressions:[{component:Ut,title:"Text",type:"text"},{component:Xt,title:"Number",type:"number"},{component:Ht,title:"Action Result",type:"action-result"},{component:ee,title:"Decision",type:"decision"},{component:se,title:"Condition",type:"condition"},{component:class extends gt{constructor(t){super(),ft(this,t,ce,re,c,{def:0},ie)}},title:"AND/OR",type:"and-or"}]}]};function pe(t){h(t,"svelte-1b4qgzz",".expression-selector.svelte-1b4qgzz.svelte-1b4qgzz{position:absolute;top:calc(100% + 10px);left:calc(50%);transform:translateX(-50%);background-color:#f5f5f5;border:.5px solid black;min-width:400px;z-index:15;border-radius:4px;cursor:default;color:black;text-align:initial;padding:15px;box-shadow:0px 3px 10px -10px}.category.svelte-1b4qgzz.svelte-1b4qgzz{margin-bottom:20px}.category-header.svelte-1b4qgzz.svelte-1b4qgzz{padding:5px;font-size:20px}.category-values.svelte-1b4qgzz.svelte-1b4qgzz{display:flex;flex-direction:row;flex-wrap:wrap}.category-values.svelte-1b4qgzz>div.svelte-1b4qgzz{margin-right:10px;margin-top:10px;background-color:lightgrey;border:1.2px solid lightgrey;padding:3px 10px;border-radius:4px;cursor:pointer;box-sizing:content-box}.category-values.svelte-1b4qgzz>div.svelte-1b4qgzz:hover{border:1.2px solid gray}")}function de(t,e,n){const o=t.slice();return o[8]=e[n],o}function ue(t,e,n){const o=t.slice();return o[11]=e[n],o}function fe(t){let e,n=ae.categories,o=[];for(let e=0;e<n.length;e+=1)o[e]=he(de(t,n,e));return{c(){e=w("div");for(let t=0;t<o.length;t+=1)o[t].c();C(e,"class","expression-selector svelte-1b4qgzz")},m(t,n){$(t,e,n);for(let t=0;t<o.length;t+=1)o[t].m(e,null)},p(t,l){if(2&l){let s;for(n=ae.categories,s=0;s<n.length;s+=1){const i=de(t,n,s);o[s]?o[s].p(i,l):(o[s]=he(i),o[s].c(),o[s].m(e,null))}for(;s<o.length;s+=1)o[s].d(1);o.length=n.length}},d(t){t&&x(e),b(o,t)}}}function ge(t){let e,n,o,l,s,i=t[11].title+"";function r(){return t[6](t[11])}return{c(){e=w("div"),n=k(i),o=q(),C(e,"class","svelte-1b4qgzz")},m(t,i){$(t,e,i),g(e,n),g(e,o),l||(s=z(e,"click",r),l=!0)},p(e,n){t=e},d(t){t&&x(e),l=!1,s()}}}function he(t){let e,n,o,l,s,i,r=t[8].title+"",c=t[8].expressions,a=[];for(let e=0;e<c.length;e+=1)a[e]=ge(ue(t,c,e));return{c(){e=w("div"),n=w("div"),o=k(r),l=q(),s=w("div");for(let t=0;t<a.length;t+=1)a[t].c();i=q(),C(n,"class","category-header svelte-1b4qgzz"),C(s,"class","category-values svelte-1b4qgzz"),C(e,"class","category svelte-1b4qgzz")},m(t,r){$(t,e,r),g(e,n),g(n,o),g(e,l),g(e,s);for(let t=0;t<a.length;t+=1)a[t].m(s,null);g(e,i)},p(t,e){if(2&e){let n;for(c=t[8].expressions,n=0;n<c.length;n+=1){const o=ue(t,c,n);a[n]?a[n].p(o,e):(a[n]=ge(o),a[n].c(),a[n].m(s,null))}for(;n<a.length;n+=1)a[n].d(1);a.length=c.length}},d(t){t&&x(e),b(a,t)}}}function ve(t){let e,o,l,s=t[0]&&fe(t);return{c(){s&&s.c(),e=_()},m(n,i){s&&s.m(n,i),$(n,e,i),o||(l=z(window,"click",t[2]),o=!0)},p(t,[n]){t[0]?s?s.p(t,n):(s=fe(t),s.c(),s.m(e.parentNode,e)):s&&(s.d(1),s=null)},i:n,o:n,d(t){s&&s.d(t),t&&x(e),o=!1,l()}}}let me=()=>null;function $e(t,e,n){let{rootEl:o}=e;const l=W();function s(t){l("selection",t),r()}let i=!1;const r=()=>{i&&n(0,i=!1)};return t.$$set=t=>{"rootEl"in t&&n(3,o=t.rootEl)},[i,s,function({target:t}){i&&!o.contains(t)&&r()},o,()=>{i||(me(),me=r,n(0,i=!0))},r,t=>s(t)]}var xe=class extends gt{constructor(t){super(),ft(this,t,$e,ve,c,{rootEl:3,open:4,close:5},pe)}get open(){return this.$$.ctx[4]}get close(){return this.$$.ctx[5]}};function be(t){h(t,"svelte-1hy9y1r",".empty-expression.svelte-1hy9y1r{background-color:white;display:block;min-width:70px;min-height:24px;border:1px solid black;border-radius:3px}.expression-root.svelte-1hy9y1r{position:relative}")}function we(t){let e,o,l;return{c(){e=w("div"),C(e,"class","empty-expression svelte-1hy9y1r")},m(n,s){$(n,e,s),o||(l=z(e,"click",(function(){r(t[3])&&t[3].apply(this,arguments)})),o=!0)},p(e,n){t=e},i:n,o:n,d(t){t&&x(e),o=!1,l()}}}function ye(t){let e,n,o;var l=t[1].component;function s(t){return{props:{def:t[0]}}}return l&&(e=new l(s(t))),{c(){e&&pt(e.$$.fragment),n=_()},m(t,l){e&&dt(e,t,l),$(t,n,l),o=!0},p(t,o){const i={};if(1&o&&(i.def=t[0]),l!==(l=t[1].component)){if(e){ot();const t=e;it(t.$$.fragment,1,0,(()=>{ut(t,1)})),lt()}l?(e=new l(s(t)),pt(e.$$.fragment),st(e.$$.fragment,1),dt(e,n.parentNode,n)):e=null}else l&&e.$set(i)},i(t){o||(e&&st(e.$$.fragment,t),o=!0)},o(t){e&&it(e.$$.fragment,t),o=!1},d(t){t&&x(n),e&&ut(e,t)}}}function ke(t){let e,n,o,l,s,i,r;const c=[ye,we],a=[];function p(t,e){return t[1]?0:1}function d(e){t[5](e)}n=p(t),o=a[n]=c[n](t);let u={rootEl:t[2]};return void 0!==t[3]&&(u.open=t[3]),s=new xe({props:u}),H.push((()=>at(s,"open",d))),s.$on("selection",t[4]),{c(){e=w("div"),o.c(),l=q(),pt(s.$$.fragment),C(e,"class","expression-root svelte-1hy9y1r")},m(o,i){$(o,e,i),a[n].m(e,null),g(e,l),dt(s,e,null),t[6](e),r=!0},p(t,[r]){let d=n;n=p(t),n===d?a[n].p(t,r):(ot(),it(a[d],1,1,(()=>{a[d]=null})),lt(),o=a[n],o?o.p(t,r):(o=a[n]=c[n](t),o.c()),st(o,1),o.m(e,l));const u={};4&r&&(u.rootEl=t[2]),!i&&8&r&&(i=!0,u.open=t[3],Q((()=>i=!1))),s.$set(u)},i(t){r||(st(o),st(s.$$.fragment,t),r=!0)},o(t){it(o),it(s.$$.fragment,t),r=!1},d(o){o&&x(e),a[n].d(),ut(s),t[6](null)}}}function qe(t,e,n){let o,l,s,{def:i}=e;return t.$$set=t=>{"def"in t&&n(0,i=t.def)},t.$$.update=()=>{3&t.$$.dirty&&i?.type!==o?.type&&n(1,o=ae.categories[0].expressions.find((t=>t.type===i.type)))},[i,o,l,s,function(t){n(1,o=t.detail),n(0,i.type=t.detail.type,i)},function(t){s=t,n(3,s)},function(t){H[t?"unshift":"push"]((()=>{l=t,n(2,l)}))}]}var _e=class extends gt{constructor(t){super(),ft(this,t,qe,ke,c,{def:0},be)}};function ze(t){h(t,"svelte-186lwcq",".action-editor.svelte-186lwcq.svelte-186lwcq{position:absolute;left:60px;transform:translateY(-50%);background-color:#f5f5f5;border:.5px solid black;min-width:300px;max-width:500px;width:max-content;z-index:15;border-radius:4px;cursor:default;color:black;text-align:initial;padding:15px;box-shadow:0px 3px 10px -10px}.actions.svelte-186lwcq.svelte-186lwcq{position:absolute;top:5px;right:5px}.section-header.svelte-186lwcq.svelte-186lwcq{font-size:20px;font-weight:700}.inputs-area.svelte-186lwcq.svelte-186lwcq{display:table}.input.svelte-186lwcq.svelte-186lwcq{display:table-row}.input.svelte-186lwcq>div.svelte-186lwcq{display:table-cell;vertical-align:top;padding-top:5px;padding-bottom:5px}.input-label.svelte-186lwcq.svelte-186lwcq{padding-right:10px;font-weight:700}select.svelte-186lwcq.svelte-186lwcq{padding:3px 7px;border-radius:2px}")}function Ce(t,e,n){const o=t.slice();return o[17]=e[n].inputName,o[18]=e[n].inputDef,o}function Se(t,e,n){const o=t.slice();return o[21]=e[n],o}function Ne(t){let e,n;return e=new jt({props:{target:"#action-editor-portal",$$slots:{default:[Ae]},$$scope:{ctx:t}}}),{c(){pt(e.$$.fragment)},m(t,o){dt(e,t,o),n=!0},p(t,n){const o={};16777335&n&&(o.$$scope={dirty:n,ctx:t}),e.$set(o)},i(t){n||(st(e.$$.fragment,t),n=!0)},o(t){it(e.$$.fragment,t),n=!1},d(t){ut(e,t)}}}function Te(t){let e,n=t[1].actionDefs,o=[];for(let e=0;e<n.length;e+=1)o[e]=Ee(Se(t,n,e));return{c(){for(let t=0;t<o.length;t+=1)o[t].c();e=_()},m(t,n){for(let e=0;e<o.length;e+=1)o[e].m(t,n);$(t,e,n)},p(t,l){if(2&l){let s;for(n=t[1].actionDefs,s=0;s<n.length;s+=1){const i=Se(t,n,s);o[s]?o[s].p(i,l):(o[s]=Ee(i),o[s].c(),o[s].m(e.parentNode,e))}for(;s<o.length;s+=1)o[s].d(1);o.length=n.length}},d(t){b(o,t),t&&x(e)}}}function Ee(t){let e,n,o,l=t[21].title+"";return{c(){e=w("option"),n=k(l),e.__value=o=t[21].type,e.value=e.__value},m(t,o){$(t,e,o),g(e,n)},p(t,s){2&s&&l!==(l=t[21].title+"")&&N(n,l),2&s&&o!==(o=t[21].type)&&(e.__value=o,e.value=e.__value)},d(t){t&&x(e)}}}function Le(t){let e,n,o,l,s,i,r,c=t[2]&&Me(t);return{c(){e=w("hr"),n=q(),o=w("div"),l=w("div"),l.textContent="Inputs",s=q(),i=w("div"),c&&c.c(),C(l,"class","section-header svelte-186lwcq"),C(i,"class","inputs-area svelte-186lwcq"),C(o,"class","inputs-section")},m(t,a){$(t,e,a),$(t,n,a),$(t,o,a),g(o,l),g(o,s),g(o,i),c&&c.m(i,null),r=!0},p(t,e){t[2]?c?(c.p(t,e),4&e&&st(c,1)):(c=Me(t),c.c(),st(c,1),c.m(i,null)):c&&(ot(),it(c,1,1,(()=>{c=null})),lt())},i(t){r||(st(c),r=!0)},o(t){it(c),r=!1},d(t){t&&x(e),t&&x(n),t&&x(o),c&&c.d()}}}function Me(t){let e,n,o=t[6],l=[];for(let e=0;e<o.length;e+=1)l[e]=Ie(Ce(t,o,e));const s=t=>it(l[t],1,1,(()=>{l[t]=null}));return{c(){for(let t=0;t<l.length;t+=1)l[t].c();e=_()},m(t,o){for(let e=0;e<l.length;e+=1)l[e].m(t,o);$(t,e,o),n=!0},p(t,n){if(65&n){let i;for(o=t[6],i=0;i<o.length;i+=1){const s=Ce(t,o,i);l[i]?(l[i].p(s,n),st(l[i],1)):(l[i]=Ie(s),l[i].c(),st(l[i],1),l[i].m(e.parentNode,e))}for(ot(),i=o.length;i<l.length;i+=1)s(i);lt()}},i(t){if(!n){for(let t=0;t<o.length;t+=1)st(l[t]);n=!0}},o(t){l=l.filter(Boolean);for(let t=0;t<l.length;t+=1)it(l[t]);n=!1},d(t){b(l,t),t&&x(e)}}}function Ie(t){let e,n,o,l,s,i,r,c,a,p=(t[18].title||t[17])+"";return r=new _e({props:{def:t[0].inputs[t[17]]}}),{c(){e=w("div"),n=w("div"),o=k(p),l=q(),s=w("div"),i=w("div"),pt(r.$$.fragment),c=q(),C(n,"class","input-label svelte-186lwcq"),C(i,"class","input-value"),C(s,"class","svelte-186lwcq"),C(e,"class","input svelte-186lwcq")},m(t,p){$(t,e,p),g(e,n),g(n,o),g(e,l),g(e,s),g(s,i),dt(r,i,null),g(e,c),a=!0},p(t,e){(!a||64&e)&&p!==(p=(t[18].title||t[17])+"")&&N(o,p);const n={};65&e&&(n.def=t[0].inputs[t[17]]),r.$set(n)},i(t){a||(st(r.$$.fragment,t),a=!0)},o(t){it(r.$$.fragment,t),a=!1},d(t){t&&x(e),ut(r)}}}function Ae(t){let e,n,o,l,s,i,r,c,a,p,d,u,f,h,v,m=t[1]&&Te(t),b=t[0].type&&Le(t);return{c(){e=w("div"),n=w("div"),o=w("button"),o.textContent="Close",l=q(),s=w("div"),i=w("label"),r=w("div"),r.textContent="Action",c=q(),a=w("select"),p=w("option"),d=k("Select"),m&&m.c(),u=q(),b&&b.c(),C(o,"type","button"),C(n,"class","actions svelte-186lwcq"),C(r,"class","section-header svelte-186lwcq"),p.__value=void 0,p.value=p.__value,C(a,"class","svelte-186lwcq"),void 0===t[0].type&&K((()=>t[13].call(a))),C(e,"class","action-editor svelte-186lwcq")},m(x,w){$(x,e,w),g(e,n),g(n,o),t[12](o),g(e,l),g(e,s),g(s,i),g(i,r),g(i,c),g(i,a),g(a,p),g(p,d),m&&m.m(a,null),L(a,t[0].type),g(e,u),b&&b.m(e,null),t[14](e),f=!0,h||(v=z(a,"change",t[13]),h=!0)},p(t,n){t[1]?m?m.p(t,n):(m=Te(t),m.c(),m.m(a,null)):m&&(m.d(1),m=null),3&n&&L(a,t[0].type),t[0].type?b?(b.p(t,n),1&n&&st(b,1)):(b=Le(t),b.c(),st(b,1),b.m(e,null)):b&&(ot(),it(b,1,1,(()=>{b=null})),lt())},i(t){f||(st(b),f=!0)},o(t){it(b),f=!1},d(n){n&&x(e),t[12](null),m&&m.d(),b&&b.d(),t[14](null),h=!1,v()}}}function De(t){let e,n,o,l,s=t[3]&&Ne(t);return{c(){s&&s.c(),e=_()},m(i,r){s&&s.m(i,r),$(i,e,r),n=!0,o||(l=z(window,"click",t[7]),o=!0)},p(t,[n]){t[3]?s?(s.p(t,n),8&n&&st(s,1)):(s=Ne(t),s.c(),st(s,1),s.m(e.parentNode,e)):s&&(ot(),it(s,1,1,(()=>{s=null})),lt())},i(t){n||(st(s),n=!0)},o(t){it(s),n=!1},d(t){s&&s.d(t),t&&x(e),o=!1,l()}}}let je=()=>null;function Oe(t,e,n){let o,l,{def:s}=e,{rootEl:i}=e;const r=W();let c,a;O((async()=>{n(0,s.inputs=s.inputs||{},s),n(1,c=await bt.getMetadata())}));let p,d=!1;const u=()=>{d&&n(3,d=!1)};let f;return t.$$set=t=>{"def"in t&&n(0,s=t.def),"rootEl"in t&&n(8,i=t.rootEl)},t.$$.update=()=>{1&t.$$.dirty&&s?.type&&r("change-type",s.type),3&t.$$.dirty&&(n(2,a=c?.actionDefs.find((t=>t.type===s.type))),function(){if(!a?.inputSchema.properties)return;const t={};for(let e in a?.inputSchema.properties||[])t[e]=s.inputs[e]||{kind:"expression"};n(0,s.inputs=t,s)}()),4&t.$$.dirty&&n(11,o=Object.keys(a?.inputSchema.properties||{})),2052&t.$$.dirty&&n(6,l=o.map((t=>({inputName:t,inputDef:a.inputSchema.properties[t]}))))},[s,c,a,d,p,f,l,function(t){(d&&t.target.isConnected&&!i.contains(t.target)&&!p.contains(t.target)||t.target===f)&&u()},i,()=>{d||(je(),je=u,n(3,d=!0))},u,o,function(t){H[t?"unshift":"push"]((()=>{f=t,n(5,f)}))},function(){s.type=M(this),n(0,s),n(1,c)},function(t){H[t?"unshift":"push"]((()=>{p=t,n(4,p)}))}]}var We=class extends gt{constructor(t){super(),ft(this,t,Oe,De,c,{def:0,rootEl:8,open:9,close:10},ze)}get open(){return this.$$.ctx[9]}get close(){return this.$$.ctx[10]}};function Re(t){h(t,"svelte-1927ffw",".node.svelte-1927ffw{background-color:black;padding:30px;border-radius:1000px;color:white;margin:15px;position:relative;cursor:pointer}.node-name.svelte-1927ffw{background-color:white;padding:0 10px;border:1.75px solid black;position:absolute;color:black;font-size:10px;left:50%;top:50%;transform:translate(-50%, -50%);border-radius:10000px;white-space:nowrap}")}function Ve(t){let e,n,o,l,s,i,c,a,p;function d(e){t[5](e)}let u={def:t[0],rootEl:t[1]};return void 0!==t[2]&&(u.open=t[2]),s=new We({props:u}),H.push((()=>at(s,"open",d))),s.$on("change-type",t[6]),{c(){e=w("div"),n=w("div"),o=k(t[3]),l=q(),pt(s.$$.fragment),C(n,"class","node-name svelte-1927ffw"),C(e,"class","node svelte-1927ffw")},m(i,d){$(i,e,d),g(e,n),g(n,o),g(e,l),dt(s,e,null),t[7](e),c=!0,a||(p=z(e,"click",(function(){r(t[2])&&t[2].apply(this,arguments)})),a=!0)},p(e,[n]){t=e,(!c||8&n)&&N(o,t[3]);const l={};1&n&&(l.def=t[0]),2&n&&(l.rootEl=t[1]),!i&&4&n&&(i=!0,l.open=t[2],Q((()=>i=!1))),s.$set(l)},i(t){c||(st(s.$$.fragment,t),c=!0)},o(t){it(s.$$.fragment,t),c=!1},d(n){n&&x(e),ut(s),t[7](null),a=!1,p()}}}function Be(t,e,n){let o,l,s,i,{def:r}=e;function c(t){let e=i?.find((e=>e.type===t));n(3,s=e?.title||"?")}R("parents",[...V("parents")||[],r]),bt.getMetadata().then((t=>{i=t.actionDefs,c(r?.type)}));return t.$$set=t=>{"def"in t&&n(0,r=t.def)},[r,o,l,s,c,function(t){l=t,n(2,l)},t=>c(t.detail),function(t){H[t?"unshift":"push"]((()=>{o=t,n(1,o)}))}]}var He=class extends gt{constructor(t){super(),ft(this,t,Be,Ve,c,{def:0},Re)}};function Pe(t){h(t,"svelte-10pp7sk",".add-step-container.svelte-10pp7sk.svelte-10pp7sk{position:relative;width:10px}.add-step.svelte-10pp7sk.svelte-10pp7sk{position:absolute;width:100px;height:30px;top:-15px;left:-45px;z-index:5\r\n  }.add-step.svelte-10pp7sk:hover .placeholder.svelte-10pp7sk{display:none}.add-step.svelte-10pp7sk:not(:hover) .add-step-btns.svelte-10pp7sk{display:none}.placeholder.svelte-10pp7sk.svelte-10pp7sk{font-weight:700}")}function Je(t){let e,o,l;return{c(){e=w("button"),e.textContent="ᛣ",C(e,"type","button")},m(n,s){$(n,e,s),o||(l=z(e,"click",t[5]),o=!0)},p:n,d(t){t&&x(e),o=!1,l()}}}function Ge(t){let e,o,l;return{c(){e=w("button"),e.textContent="＋",C(e,"type","button")},m(n,s){$(n,e,s),o||(l=z(e,"click",t[4]),o=!0)},p:n,d(t){t&&x(e),o=!1,l()}}}function Ue(t){let e,o,l,s,r;return{c(){e=w("button"),e.textContent="⬤",o=q(),l=w("button"),l.textContent="⅄",C(e,"type","button"),C(l,"type","button")},m(n,i){$(n,e,i),$(n,o,i),$(n,l,i),s||(r=[z(e,"click",t[2]),z(l,"click",t[3])],s=!0)},p:n,d(t){t&&x(e),t&&x(o),t&&x(l),s=!1,i(r)}}}function Fe(t){let e,o,l,s,i;function r(t,e){return"path"===t[0]?Ue:"trigger"===t[0]?Ge:Je}let c=r(t),a=c(t);return{c(){e=w("div"),o=w("div"),l=w("div"),s=q(),i=w("div"),a.c(),C(l,"class","placeholder svelte-10pp7sk"),C(i,"class","add-step-btns svelte-10pp7sk"),C(o,"class","add-step svelte-10pp7sk"),C(e,"class","add-step-container svelte-10pp7sk")},m(t,n){$(t,e,n),g(e,o),g(o,l),g(o,s),g(o,i),a.m(i,null)},p(t,[e]){c===(c=r(t))&&a?a.p(t,e):(a.d(1),a=c(t),a&&(a.c(),a.m(i,null)))},i:n,o:n,d(t){t&&x(e),a.d()}}}function Ke(t,e,n){let{kind:o}=e;const l=W();return t.$$set=t=>{"kind"in t&&n(0,o=t.kind)},[o,l,()=>l("select",{kind:"action"}),()=>l("select",{kind:"fork"}),()=>l("select"),()=>l("select")]}var Qe=class extends gt{constructor(t){super(),ft(this,t,Ke,Fe,c,{kind:0},Pe)}};function Xe(t){h(t,"svelte-194gh4h",".fork.svelte-194gh4h.svelte-194gh4h{display:flex;flex-direction:row;padding:5px;border:.5px solid black;border-radius:10px;margin:5px;padding-top:25px;padding-bottom:25px;position:relative;background-color:whitesmoke;z-index:1}.fork.svelte-194gh4h svg.svelte-194gh4h{position:absolute;left:0;top:0;z-index:1;width:10px;height:10px;overflow:visible}")}function Ye(t,e,n){const o=t.slice();return o[6]=e[n],o[8]=n,o}function Ze(t,e,n){const o=t.slice();return o[9]=e[n],o[8]=n,o}function tn(t){let e,n;return e=new mn({props:{def:t[9]}}),{c(){pt(e.$$.fragment)},m(t,o){dt(e,t,o),n=!0},p(t,n){const o={};1&n&&(o.def=t[9]),e.$set(o)},i(t){n||(st(e.$$.fragment,t),n=!0)},o(t){it(e.$$.fragment,t),n=!1},d(t){ut(e,t)}}}function en(t){let e,n=t[0].paths,o=[];for(let e=0;e<n.length;e+=1)o[e]=nn(Ye(t,n,e));return{c(){for(let t=0;t<o.length;t+=1)o[t].c();e=_()},m(t,n){for(let e=0;e<o.length;e+=1)o[e].m(t,n);$(t,e,n)},p(t,l){if(3&l){let s;for(n=t[0].paths,s=0;s<n.length;s+=1){const i=Ye(t,n,s);o[s]?o[s].p(i,l):(o[s]=nn(i),o[s].c(),o[s].m(e.parentNode,e))}for(;s<o.length;s+=1)o[s].d(1);o.length=n.length}},d(t){b(o,t),t&&x(e)}}}function nn(t){let e,n;return{c(){e=y("path"),C(e,"fill","none"),C(e,"stroke","black"),C(e,"d",n=ln(t[8],t[1]))},m(t,n){$(t,e,n)},p(t,o){2&o&&n!==(n=ln(t[8],t[1]))&&C(e,"d",n)},d(t){t&&x(e)}}}function on(t){let e,n,o,l,s,i,r;o=new Qe({props:{kind:"branch"}}),o.$on("select",t[2]);let c=t[0].paths,a=[];for(let e=0;e<c.length;e+=1)a[e]=tn(Ze(t,c,e));const p=t=>it(a[t],1,1,(()=>{a[t]=null}));let d=t[1]&&en(t);return{c(){e=w("div"),n=w("div"),pt(o.$$.fragment),l=q();for(let t=0;t<a.length;t+=1)a[t].c();s=q(),i=y("svg"),d&&d.c(),E(n,"position","absolute"),E(n,"top","15px"),E(n,"left","calc(50% - 5px)"),C(i,"class","svg-path svelte-194gh4h"),C(i,"viewBox","0 0 10 10"),C(i,"xmlns","http://www.w3.org/2000/svg"),C(i,"stroke-width","5"),C(i,"stroke-linecap","round"),C(e,"class","fork svelte-194gh4h")},m(c,p){$(c,e,p),g(e,n),dt(o,n,null),g(e,l);for(let t=0;t<a.length;t+=1)a[t].m(e,null);g(e,s),g(e,i),d&&d.m(i,null),t[4](e),r=!0},p(t,[n]){if(1&n){let o;for(c=t[0].paths,o=0;o<c.length;o+=1){const l=Ze(t,c,o);a[o]?(a[o].p(l,n),st(a[o],1)):(a[o]=tn(l),a[o].c(),st(a[o],1),a[o].m(e,s))}for(ot(),o=c.length;o<a.length;o+=1)p(o);lt()}t[1]?d?d.p(t,n):(d=en(t),d.c(),d.m(i,null)):d&&(d.d(1),d=null)},i(t){if(!r){st(o.$$.fragment,t);for(let t=0;t<c.length;t+=1)st(a[t]);r=!0}},o(t){it(o.$$.fragment,t),a=a.filter(Boolean);for(let t=0;t<a.length;t+=1)it(a[t]);r=!1},d(n){n&&x(e),ut(o),b(a,n),d&&d.d(),t[4](null)}}}function ln(t,e){let n=e.children[t+1];if(!n)return 0;const o=e.offsetWidth/2,l=n.offsetHeight+30;return`\n      M ${o} -1 L ${n.offsetLeft+n.offsetWidth/2} 31\n      M ${o} ${e.offsetHeight+1} L ${n.offsetLeft+n.offsetWidth/2} ${l}\n    `}function sn(t,e,n){let o,{def:l}=e;R("parents",[...V("parents")||[],l]);let s=!1;return t.$$set=t=>{"def"in t&&n(0,l=t.def)},t.$$.update=()=>{11&t.$$.dirty&&o&&!s&&(n(3,s=!0),new ResizeObserver((()=>(n(0,l),n(1,o),n(3,s)))).observe(o))},[l,o,function(){l.paths.push({kind:"path",steps:[]}),n(0,l),n(1,o),n(3,s)},s,function(t){H[t?"unshift":"push"]((()=>{o=t,n(1,o)}))}]}var rn=class extends gt{constructor(t){super(),ft(this,t,sn,on,c,{def:0},Xe)}};function cn(t){h(t,"svelte-mm2yvy",".path.svelte-mm2yvy.svelte-mm2yvy{display:flex;flex-direction:column;align-items:center;text-align:center;padding:5px;padding-top:20px;border:.5px solid black;border-radius:10px;margin:5px;position:relative;background-color:whitesmoke;z-index:1}.svg-path.svelte-mm2yvy.svelte-mm2yvy{position:absolute;left:50%;top:0;z-index:-10;width:10px;overflow:visible}.add-node-btn.svelte-mm2yvy.svelte-mm2yvy{background-color:white;border:2px solid black;border-radius:1000px;color:black;margin:15px;font-weight:400;width:60px;height:60px;font-size:60px;position:relative;cursor:pointer}.add-node-btn.svelte-mm2yvy>span.svelte-mm2yvy{position:absolute;top:-16px;left:11px}")}function an(t,e,n){const o=t.slice();return o[10]=e[n],o[12]=n,o}function pn(t){let e,o;return e=new Qe({props:{kind:"path"}}),e.$on("select",t[5]),{c(){pt(e.$$.fragment)},m(t,n){dt(e,t,n),o=!0},p:n,i(t){o||(st(e.$$.fragment,t),o=!0)},o(t){it(e.$$.fragment,t),o=!1},d(t){ut(e,t)}}}function dn(t){let e,o,l;return{c(){e=w("div"),e.innerHTML='<span class="svelte-mm2yvy">+</span>',C(e,"class","add-node-btn svelte-mm2yvy")},m(n,s){$(n,e,s),o||(l=z(e,"click",t[4]),o=!0)},p:n,i:n,o:n,d(t){t&&x(e),o=!1,l()}}}function un(t){let e,n;return e=new rn({props:{def:t[10]}}),{c(){pt(e.$$.fragment)},m(t,o){dt(e,t,o),n=!0},p(t,n){const o={};1&n&&(o.def=t[10]),e.$set(o)},i(t){n||(st(e.$$.fragment,t),n=!0)},o(t){it(e.$$.fragment,t),n=!1},d(t){ut(e,t)}}}function fn(t){let e,n;return e=new He({props:{def:t[10]}}),{c(){pt(e.$$.fragment)},m(t,o){dt(e,t,o),n=!0},p(t,n){const o={};1&n&&(o.def=t[10]),e.$set(o)},i(t){n||(st(e.$$.fragment,t),n=!0)},o(t){it(e.$$.fragment,t),n=!1},d(t){ut(e,t)}}}function gn(t){let e,n,o,l,s;const i=[fn,un],r=[];function c(t,e){return"action"===t[10].kind?0:"fork"===t[10].kind?1:-1}return~(e=c(t))&&(n=r[e]=i[e](t)),l=new Qe({props:{kind:"path"}}),l.$on("select",(function(...e){return t[6](t[12],...e)})),{c(){n&&n.c(),o=q(),pt(l.$$.fragment)},m(t,n){~e&&r[e].m(t,n),$(t,o,n),dt(l,t,n),s=!0},p(l,s){let a=e;e=c(t=l),e===a?~e&&r[e].p(t,s):(n&&(ot(),it(r[a],1,1,(()=>{r[a]=null})),lt()),~e?(n=r[e],n?n.p(t,s):(n=r[e]=i[e](t),n.c()),st(n,1),n.m(o.parentNode,o)):n=null)},i(t){s||(st(n),st(l.$$.fragment,t),s=!0)},o(t){it(n),it(l.$$.fragment,t),s=!1},d(t){~e&&r[e].d(t),t&&x(o),ut(l,t)}}}function hn(t){let e,n,o,l,s,i,r,c;const a=[dn,pn],p=[];function d(t,e){return t[0].steps.length?1:0}n=d(t),o=p[n]=a[n](t);let u=t[0].steps,f=[];for(let e=0;e<u.length;e+=1)f[e]=gn(an(t,u,e));const h=t=>it(f[t],1,1,(()=>{f[t]=null}));return{c(){e=w("div"),o.c(),l=q();for(let t=0;t<f.length;t+=1)f[t].c();s=q(),i=y("svg"),r=y("path"),C(r,"fill","none"),C(r,"stroke","black"),C(r,"d",t[2]),C(i,"class","svg-path svelte-mm2yvy"),C(i,"viewBox","0 0 10 10"),C(i,"xmlns","http://www.w3.org/2000/svg"),C(i,"stroke-width","5"),C(i,"stroke-linecap","round"),C(e,"class","path svelte-mm2yvy")},m(o,a){$(o,e,a),p[n].m(e,null),g(e,l);for(let t=0;t<f.length;t+=1)f[t].m(e,null);g(e,s),g(e,i),g(i,r),t[7](e),c=!0},p(t,[i]){let g=n;if(n=d(t),n===g?p[n].p(t,i):(ot(),it(p[g],1,1,(()=>{p[g]=null})),lt(),o=p[n],o?o.p(t,i):(o=p[n]=a[n](t),o.c()),st(o,1),o.m(e,l)),9&i){let n;for(u=t[0].steps,n=0;n<u.length;n+=1){const o=an(t,u,n);f[n]?(f[n].p(o,i),st(f[n],1)):(f[n]=gn(o),f[n].c(),st(f[n],1),f[n].m(e,s))}for(ot(),n=u.length;n<f.length;n+=1)h(n);lt()}(!c||4&i)&&C(r,"d",t[2])},i(t){if(!c){st(o);for(let t=0;t<u.length;t+=1)st(f[t]);c=!0}},o(t){it(o),f=f.filter(Boolean);for(let t=0;t<f.length;t+=1)it(f[t]);c=!1},d(o){o&&x(e),p[n].d(),b(f,o),t[7](null)}}}function vn(t,e,n){let o,{def:l}=e;function s(t,e){if("action"===t)l.steps.splice(e,0,{kind:t});else if("fork"===t){const n={kind:t,paths:[{steps:l.steps.splice(e)},{steps:[]}]};l.steps.push(n)}n(0,l)}R("parents",[...V("parents")||[],l]);let i="",r=new ResizeObserver((()=>n(2,i="M 0 1 v "+(o?.offsetHeight-3))));var c;c=()=>{r.disconnect()},j().$$.on_destroy.push(c);return t.$$set=t=>{"def"in t&&n(0,l=t.def)},t.$$.update=()=>{2&t.$$.dirty&&o&&r.observe(o)},[l,o,i,s,()=>s("action",0),t=>s(t.detail.kind,0),(t,e)=>s(e.detail.kind,t+1),function(t){H[t?"unshift":"push"]((()=>{o=t,n(1,o)}))}]}var mn=class extends gt{constructor(t){super(),ft(this,t,vn,hn,c,{def:0},cn)}};function $n(t){h(t,"svelte-1kpfr78",".trigger-set.svelte-1kpfr78{display:flex;flex-direction:row;padding:5px;border:.5px solid black;border-radius:10px;margin:5px;position:relative}.add-trigger.svelte-1kpfr78{position:absolute;right:-45px;top:calc(50% - 5px)}")}function xn(t,e,n){const o=t.slice();return o[2]=e[n],o}function bn(t){let e,n;return e=new He({props:{kind:"trigger",def:t[2]}}),{c(){pt(e.$$.fragment)},m(t,o){dt(e,t,o),n=!0},p(t,n){const o={};1&n&&(o.def=t[2]),e.$set(o)},i(t){n||(st(e.$$.fragment,t),n=!0)},o(t){it(e.$$.fragment,t),n=!1},d(t){ut(e,t)}}}function wn(t){let e,n,o,l,s,i=t[0],r=[];for(let e=0;e<i.length;e+=1)r[e]=bn(xn(t,i,e));const c=t=>it(r[t],1,1,(()=>{r[t]=null}));return l=new Qe({props:{kind:"trigger"}}),l.$on("select",t[1]),{c(){e=w("div");for(let t=0;t<r.length;t+=1)r[t].c();n=q(),o=w("div"),pt(l.$$.fragment),C(o,"class","add-trigger svelte-1kpfr78"),C(e,"class","trigger-set svelte-1kpfr78")},m(t,i){$(t,e,i);for(let t=0;t<r.length;t+=1)r[t].m(e,null);g(e,n),g(e,o),dt(l,o,null),s=!0},p(t,[o]){if(1&o){let l;for(i=t[0],l=0;l<i.length;l+=1){const s=xn(t,i,l);r[l]?(r[l].p(s,o),st(r[l],1)):(r[l]=bn(s),r[l].c(),st(r[l],1),r[l].m(e,n))}for(ot(),l=i.length;l<r.length;l+=1)c(l);lt()}},i(t){if(!s){for(let t=0;t<i.length;t+=1)st(r[t]);st(l.$$.fragment,t),s=!0}},o(t){r=r.filter(Boolean);for(let t=0;t<r.length;t+=1)it(r[t]);it(l.$$.fragment,t),s=!1},d(t){t&&x(e),b(r,t),ut(l)}}}function yn(t,e,n){let{triggers:o}=e;return t.$$set=t=>{"triggers"in t&&n(0,o=t.triggers)},[o,function(t,e){o.push({kind:"trigger"}),n(0,o)}]}var kn=class extends gt{constructor(t){super(),ft(this,t,yn,wn,c,{triggers:0},$n)}};function qn(t){h(t,"svelte-1hqdyab",".workflow-editor.svelte-1hqdyab{display:flex;align-items:stretch;justify-content:center;width:100%;height:100%\r\n  }.workflow-view-panel.svelte-1hqdyab{padding-top:35px;min-width:700px;flex-grow:5}.workflow-view-container.svelte-1hqdyab{max-width:900px;margin-left:auto;margin-right:auto}.title-input.svelte-1hqdyab{border:none;outline:none;background-color:rgb(245, 245, 245);font-size:36px;width:700px;font-weight:300}.node-flow.svelte-1hqdyab{display:flex;flex-direction:column;align-items:center;padding-top:10px}.section-headers.svelte-1hqdyab{font-size:24px;font-weight:300;text-align:left;width:100px;margin:10px}.btn.svelte-1hqdyab{font-size:18px;font-weight:300;margin-left:15px;border:1px solid gainsboro;padding:5px 10px 5px 10px;border-radius:2px;vertical-align:middle;box-shadow:0px 2px 10px -8px;background-color:rgb(250, 250, 250)}.btn.svelte-1hqdyab:hover{cursor:pointer}.json-viewer.svelte-1hqdyab{white-space:pre;background-color:white;color:gray;margin-top:20px}")}function _n(t){let e,n,o,l,s,r,c,a,p,d,u,f,h,v,m,b,y,_,S,L,M,I,A,D,j,O,W,R,V,B;return v=new kn({props:{triggers:t[0].triggers}}),_=new mn({props:{def:t[0].path}}),{c(){e=w("div"),n=w("div"),o=w("div"),l=w("p"),s=w("button"),s.textContent="Close",r=q(),c=w("button"),c.textContent="Save",a=q(),p=w("input"),d=q(),u=w("div"),f=w("div"),f.textContent="Triggers",h=q(),pt(v.$$.fragment),m=q(),b=w("div"),b.textContent="Workflow",y=q(),pt(_.$$.fragment),S=q(),L=w("div"),M=q(),I=w("div"),A=w("code"),D=w("div"),j=w("button"),j.textContent="Refresh",O=q(),W=k(t[1]),C(s,"class","close-workflow btn svelte-1hqdyab"),C(s,"type","button"),C(c,"type","button"),C(c,"class","action-editor-save-btn btn svelte-1hqdyab"),E(l,"float","right"),C(p,"class","title-input svelte-1hqdyab"),C(p,"type","text"),C(p,"placeholder","Title"),C(f,"class","section-headers svelte-1hqdyab"),C(b,"class","section-headers svelte-1hqdyab"),C(u,"class","node-flow svelte-1hqdyab"),C(o,"class","workflow-view-container svelte-1hqdyab"),C(n,"class","workflow-view-panel svelte-1hqdyab"),C(e,"class","workflow-editor svelte-1hqdyab"),C(L,"id","action-editor-portal"),C(j,"type","button"),C(I,"class","json-viewer svelte-1hqdyab")},m(i,x){$(i,e,x),g(e,n),g(n,o),g(o,l),g(l,s),g(l,r),g(l,c),g(o,a),g(o,p),T(p,t[0].title),g(o,d),g(o,u),g(u,f),g(u,h),dt(v,u,null),g(u,m),g(u,b),g(u,y),dt(_,u,null),$(i,S,x),$(i,L,x),$(i,M,x),$(i,I,x),g(I,A),g(A,D),g(D,j),g(A,O),g(A,W),R=!0,V||(B=[z(s,"click",t[3]),z(c,"click",t[2]),z(p,"input",t[5]),z(j,"click",t[6])],V=!0)},p(t,e){1&e&&p.value!==t[0].title&&T(p,t[0].title);const n={};1&e&&(n.triggers=t[0].triggers),v.$set(n);const o={};1&e&&(o.def=t[0].path),_.$set(o),(!R||2&e)&&N(W,t[1])},i(t){R||(st(v.$$.fragment,t),st(_.$$.fragment,t),R=!0)},o(t){it(v.$$.fragment,t),it(_.$$.fragment,t),R=!1},d(t){t&&x(e),ut(v),ut(_),t&&x(S),t&&x(L),t&&x(M),t&&x(I),V=!1,i(B)}}}function zn(t){let e,n,o=t[0]&&_n(t);return{c(){o&&o.c(),e=_()},m(t,l){o&&o.m(t,l),$(t,e,l),n=!0},p(t,[n]){t[0]?o?(o.p(t,n),1&n&&st(o,1)):(o=_n(t),o.c(),st(o,1),o.m(e.parentNode,e)):o&&(ot(),it(o,1,1,(()=>{o=null})),lt())},i(t){n||(st(o),n=!0)},o(t){it(o),n=!1},d(t){o&&o.d(t),t&&x(e)}}}function Cn(t,e,n){let o,{workflowId:l}=e;bt.getWorkflow(l).then((t=>n(0,o=t)));let s,i=V("history");return t.$$set=t=>{"workflowId"in t&&n(4,l=t.workflowId)},t.$$.update=()=>{1&t.$$.dirty&&n(1,s=JSON.stringify(o||null,null,2))},[o,s,async function(){let t={...o,lastModifiedAt:(new Date).toLocaleString()};o.id?n(0,o=await bt.updateWorkflow(o.id,t)):n(0,o=await bt.createWorkflow(t))},function(){i.pushState("/")},l,function(){o.title=this.value,n(0,o)},()=>n(0,o)]}var Sn=class extends gt{constructor(t){super(),ft(this,t,Cn,zn,c,{workflowId:4},qn)}};const{window:Nn}=rt;function Tn(t){let e,n,l,s,i;const r=[t[0]];var c=t[1];function a(t){let e={};for(let t=0;t<r.length;t+=1)e=o(e,r[t]);return{props:e}}return c&&(e=new c(a())),{c(){e&&pt(e.$$.fragment),n=_()},m(o,r){e&&dt(e,o,r),$(o,n,r),l=!0,s||(i=z(Nn,"popstate",t[2]),s=!0)},p(t,[o]){const l=1&o?function(t,e){const n={},o={},l={$$scope:1};let s=t.length;for(;s--;){const i=t[s],r=e[s];if(r){for(const t in i)t in r||(o[t]=1);for(const t in r)l[t]||(n[t]=r[t],l[t]=1);t[s]=r}else for(const t in i)l[t]=1}for(const t in o)t in n||(n[t]=void 0);return n}(r,[(s=t[0],"object"==typeof s&&null!==s?s:{})]):{};var s;if(c!==(c=t[1])){if(e){ot();const t=e;it(t.$$.fragment,1,0,(()=>{ut(t,1)})),lt()}c?(e=new c(a()),pt(e.$$.fragment),st(e.$$.fragment,1),dt(e,n.parentNode,n)):e=null}else c&&e.$set(l)},i(t){l||(e&&st(e.$$.fragment,t),l=!0)},o(t){e&&it(e.$$.fragment,t),l=!1},d(t){t&&x(n),e&&ut(e,t),s=!1,i()}}}function En(t,e,n){let o=V("history");o.pushState=function(t){window.history.pushState({},"lowcodeDevKit",t),i()},o.back=window.history.back;let l={},s=null;function i(){n(1,[s,l]=function(t){const e=t.pathname.trim().split("/").filter(Boolean).join("/").toLowerCase(),n=new URLSearchParams(t.search);if("workflow"===e&&n.get("workflow-id")){const t=n.get("workflow-id");return[Sn,{workflowId:t}]}return[Lt,{}]}(window.location),s,n(0,l))}return O((()=>i())),[l,s,i]}var Ln=class extends gt{constructor(t){super(),ft(this,t,En,Tn,c,{})}};function Mn(t){h(t,"svelte-1p2jgof",".background.svelte-1p2jgof{background-color:rgb(245, 245, 245);position:fixed;left:0;right:0;top:0;bottom:0;font-family:'Roboto', sans-serif;overflow-y:auto}")}function In(t){let e,o,l,s,i,r;return o=new $t({}),i=new Ln({}),{c(){e=w("div"),pt(o.$$.fragment),l=q(),s=w("div"),pt(i.$$.fragment),C(s,"class","main-body"),C(e,"class","background svelte-1p2jgof")},m(t,n){$(t,e,n),dt(o,e,null),g(e,l),g(e,s),dt(i,s,null),r=!0},p:n,i(t){r||(st(o.$$.fragment,t),st(i.$$.fragment,t),r=!0)},o(t){it(o.$$.fragment,t),it(i.$$.fragment,t),r=!1},d(t){t&&x(e),ut(o),ut(i)}}}function An(t){return R("history",{pushState(){}}),[]}var Dn=class extends gt{constructor(t){super(),ft(this,t,An,In,c,{},Mn)}};var jn;function On(){return JSON.parse(localStorage.getItem("workflows")||"[]")}function Wn(t){localStorage.setItem("workflows",JSON.stringify(t))}jn=JSON.parse('{"eventDefs":[{"version":"1","title":"Application Created","tags":["business"],"inputSchema":{"properties":{"referenceId":{"type":"string","title":"Reference Id"}}},"kind":"event-type","type":"application-created"}],"actionDefs":[{"version":"1","displayName":"Add Numbers","title":"Add Numbers","descriptions":"","docs":"","inputSchema":{"required":["numA","numB"],"properties":{"numA":{"type":"number","title":"Number 1"},"numB":{"type":"number","title":"Number 2"}}},"kind":"action-type","type":"add-numbers"},{"version":"1","displayName":"Set Lifecycle Stage","title":"Set Lifecycle Stage","inputSchema":{"required":["lifecycleStage","referenceId"],"properties":{"lifecycleStage":{"type":"string","title":"Lifecycle Stage","enum":["Not Started","Quotes Sent","Policy In-Force Service","Merged"]},"referenceId":{"type":"string","title":"Reference Id"}}},"kind":"action-type","type":"set-lifecycle-stage"}]}'),bt.getAllWorkflows=async function(){return JSON.parse(localStorage.getItem("workflows")||"[]")},bt.getMetadata=async function(){return e(jn)},bt.getWorkflow=async function(t){On()[0]},bt.createWorkflow=async function(t){let e=On();return e.push(t),Wn(e),t},bt.updateWorkflow=async function(t,e){return Wn(On()),e},bt.deleteWorkflows=async function(t){Wn(On())},new Dn({target:document.body});
//# sourceMappingURL=index.a250ef05.js.map

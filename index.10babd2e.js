var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{};function t(e){return e&&e.__esModule?e.default:e}function n(){}function o(e,t){for(const n in t)e[n]=t[n];return e}function i(e){return e()}function l(){return Object.create(null)}function s(e){e.forEach(i)}function r(e){return"function"==typeof e}function c(e,t){return e!=e?t==t:e!==t||e&&"object"==typeof e||"function"==typeof e}function a(e){return 0===Object.keys(e).length}function p(e,t,n,i){return e[1]&&i?o(n.ctx.slice(),e[1](i(t))):n.ctx}function d(e,t,n,o){if(e[2]&&o){const i=e[2](o(n));if(void 0===t.dirty)return i;if("object"==typeof i){const e=[],n=Math.max(t.dirty.length,i.length);for(let o=0;o<n;o+=1)e[o]=t.dirty[o]|i[o];return e}return t.dirty|i}return t.dirty}function u(e,t,n,o,i,l){if(i){const s=p(t,n,o,l);e.p(s,i)}}new Set;let f=!1;function g(e,t){e.appendChild(t)}function v(e,t,n){const o=h(e);if(!o.getElementById(t)){const e=k("style");e.id=t,e.textContent=n,m(o,e)}}function h(e){if(!e)return document;const t=e.getRootNode?e.getRootNode():e.ownerDocument;return t&&t.host?t:e.ownerDocument}function m(e,t){g(e.head||e,t)}function $(e,t,n){e.insertBefore(t,n||null)}function x(e){e.parentNode.removeChild(e)}function b(e,t){for(let n=0;n<e.length;n+=1)e[n]&&e[n].d(t)}function k(e){return document.createElement(e)}function w(e){return document.createElementNS("http://www.w3.org/2000/svg",e)}function y(e){return document.createTextNode(e)}function z(){return y(" ")}function _(){return y("")}function C(e,t,n,o){return e.addEventListener(t,n,o),()=>e.removeEventListener(t,n,o)}function S(e,t,n){null==n?e.removeAttribute(t):e.getAttribute(t)!==n&&e.setAttribute(t,n)}function E(e){return""===e?null:+e}function N(e,t){t=""+t,e.wholeText!==t&&(e.data=t)}function T(e,t){e.value=null==t?"":t}function D(e,t,n,o){null===n?e.style.removeProperty(t):e.style.setProperty(t,n,o?"important":"")}function A(e,t){for(let n=0;n<e.options.length;n+=1){const o=e.options[n];if(o.__value===t)return void(o.selected=!0)}e.selectedIndex=-1}function I(e){const t=e.querySelector(":checked")||e.options[0];return t&&t.__value}function L(e,t,{bubbles:n=!1,cancelable:o=!1}={}){const i=document.createEvent("CustomEvent");return i.initCustomEvent(e,n,o,t),i}new Map;let M;function O(e){M=e}function W(){if(!M)throw new Error("Function called outside component initialization");return M}function j(e){W().$$.on_mount.push(e)}function B(){const e=W();return(t,n,{cancelable:o=!1}={})=>{const i=e.$$.callbacks[t];if(i){const l=L(t,n,{cancelable:o});return i.slice().forEach((t=>{t.call(e,l)})),!l.defaultPrevented}return!0}}function F(e,t){return W().$$.context.set(e,t),t}function R(e){return W().$$.context.get(e)}function q(e,t){const n=e.$$.callbacks[t.type];n&&n.slice().forEach((e=>e.call(this,t)))}const P=[],V=[],H=[],U=[],J=Promise.resolve();let G=!1;function K(){G||(G=!0,J.then(ee))}function X(e){H.push(e)}function Y(e){U.push(e)}const Q=new Set;let Z=0;function ee(){const e=M;do{for(;Z<P.length;){const e=P[Z];Z++,O(e),te(e.$$)}for(O(null),P.length=0,Z=0;V.length;)V.pop()();for(let e=0;e<H.length;e+=1){const t=H[e];Q.has(t)||(Q.add(t),t())}H.length=0}while(P.length);for(;U.length;)U.pop()();G=!1,Q.clear(),O(e)}function te(e){if(null!==e.fragment){e.update(),s(e.before_update);const t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(X)}}const ne=new Set;let oe;function ie(){oe={r:0,c:[],p:oe}}function le(){oe.r||s(oe.c),oe=oe.p}function se(e,t){e&&e.i&&(ne.delete(e),e.i(t))}function re(e,t,n,o){if(e&&e.o){if(ne.has(e))return;ne.add(e),oe.c.push((()=>{ne.delete(e),o&&(n&&e.d(1),o())})),e.o(t)}}const ce="undefined"!=typeof window?window:"undefined"!=typeof globalThis?globalThis:e;new Set(["allowfullscreen","allowpaymentrequest","async","autofocus","autoplay","checked","controls","default","defer","disabled","formnovalidate","hidden","ismap","loop","multiple","muted","nomodule","novalidate","open","playsinline","readonly","required","reversed","selected"]);let ae;function pe(e,t,n){const o=e.$$.props[t];void 0!==o&&(e.$$.bound[o]=n,n(e.$$.ctx[o]))}function de(e){e&&e.c()}function ue(e,t,n,o){const{fragment:l,on_mount:c,on_destroy:a,after_update:p}=e.$$;l&&l.m(t,n),o||X((()=>{const t=c.map(i).filter(r);a?a.push(...t):s(t),e.$$.on_mount=[]})),p.forEach(X)}function fe(e,t){const n=e.$$;null!==n.fragment&&(s(n.on_destroy),n.fragment&&n.fragment.d(t),n.on_destroy=n.fragment=null,n.ctx=[])}function ge(e,t,o,i,r,c,a,p=[-1]){const d=M;O(e);const u=e.$$={fragment:null,ctx:null,props:c,update:n,not_equal:r,bound:l(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(t.context||(d?d.$$.context:[])),callbacks:l(),dirty:p,skip_bound:!1,root:t.target||d.$$.root};a&&a(u.root);let g=!1;if(u.ctx=o?o(e,t.props||{},((t,n,...o)=>{const i=o.length?o[0]:n;return u.ctx&&r(u.ctx[t],u.ctx[t]=i)&&(!u.skip_bound&&u.bound[t]&&u.bound[t](i),g&&function(e,t){-1===e.$$.dirty[0]&&(P.push(e),K(),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}(e,t)),n})):[],u.update(),g=!0,s(u.before_update),u.fragment=!!i&&i(u.ctx),t.target){if(t.hydrate){f=!0;const e=function(e){return Array.from(e.childNodes)}(t.target);u.fragment&&u.fragment.l(e),e.forEach(x)}else u.fragment&&u.fragment.c();t.intro&&se(e.$$.fragment),ue(e,t.target,t.anchor,t.customElement),f=!1,ee()}O(d)}"function"==typeof HTMLElement&&(ae=class extends HTMLElement{constructor(){super(),this.attachShadow({mode:"open"})}connectedCallback(){const{on_mount:e}=this.$$;this.$$.on_disconnect=e.map(i).filter(r);for(const e in this.$$.slotted)this.appendChild(this.$$.slotted[e])}attributeChangedCallback(e,t,n){this[e]=n}disconnectedCallback(){s(this.$$.on_disconnect)}$destroy(){fe(this,1),this.$destroy=n}$on(e,t){const n=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return n.push(t),()=>{const e=n.indexOf(t);-1!==e&&n.splice(e,1)}}$set(e){this.$$set&&!a(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}});class ve{$destroy(){fe(this,1),this.$destroy=n}$on(e,t){const n=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return n.push(t),()=>{const e=n.indexOf(t);-1!==e&&n.splice(e,1)}}$set(e){this.$$set&&!a(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}function he(e){v(e,"svelte-6fiwpl","@import url('https://fonts.googleapis.com/css2?family=Roboto+Mono:wght@300&family=Roboto:wght@100;300;400;500&display=swap');.nav-bar.svelte-6fiwpl{width:100%;height:60px;background-color:rgb(36, 36, 36);box-shadow:0 -10px 15px;display:flex;align-items:center;color:white}.nav-banner.svelte-6fiwpl{display:inline-block;margin-left:45px;text-align:center;font-size:24px;cursor:pointer}.brand-segment-lowcode.svelte-6fiwpl{font-weight:300;font-family:'Roboto Mono', monospace}.brand-segment-devkit.svelte-6fiwpl{font-weight:500;font-family:'Roboto', sans-serif;color:rgb(234, 136, 0);font-size:25px}")}function me(e){let t,o,i,l;return{c(){t=k("nav"),o=k("div"),o.innerHTML='<span class="brand-segment-lowcode svelte-6fiwpl">lowcode</span><span class="brand-segment-devkit svelte-6fiwpl">DevKit</span>',S(o,"class","nav-banner svelte-6fiwpl"),S(t,"class","nav-bar svelte-6fiwpl")},m(n,s){$(n,t,s),g(t,o),i||(l=C(o,"click",e[1]),i=!0)},p:n,i:n,o:n,d(e){e&&x(t),i=!1,l()}}}function $e(e){let t=R("history");return[t,()=>t.pushState("/")]}var xe=class extends ve{constructor(e){super(),ge(this,e,$e,me,c,{},he)}};let be=null;var ke={getMetadata:async()=>be||=await fetch("http://localhost:3000/lcdk/meta").then((e=>e.json())),getAllWorkflows:async()=>await fetch("http://localhost:3000/lcdk/workflows").then((e=>e.json())),getWorkflow:async e=>await fetch(`http://localhost:3000/lcdk/workflows/${e}`).then((e=>e.json())),createWorkflow:async e=>await fetch("http://localhost:3000/lcdk/workflows",{method:"POST",body:JSON.stringify(e),headers:{"Content-Type":"application/json"}}).then((e=>e.json())),updateWorkflow:async(e,t)=>await fetch(`http://localhost:3000/lcdk/workflows/${e}`,{method:"PUT",body:JSON.stringify(t),headers:{"Content-Type":"application/json"}}).then((e=>e.json())),async deleteWorkflows(e){await fetch(`http://localhost:3000/lcdk/workflows/${e}`,{method:"DELETE"})}};function we(e){v(e,"svelte-uzbink",".content-area.svelte-uzbink.svelte-uzbink{padding:35px 50px 35px 50px;max-width:1100px;margin-right:auto;margin-left:auto}.section-name.svelte-uzbink.svelte-uzbink{font-family:'Roboto', 'sans-serif';font-weight:400;font-size:40px;margin-left:10px}.btn.svelte-uzbink.svelte-uzbink{font-size:18px;font-weight:300;margin-left:15px;border:1px solid gainsboro;padding:5px 10px 5px 10px;border-radius:2px;vertical-align:middle;box-shadow:0px 2px 10px -8px;background-color:rgb(250, 250, 250)}.btn.svelte-uzbink.svelte-uzbink:hover{cursor:pointer}.section-container.svelte-uzbink.svelte-uzbink{width:100%;min-height:30vh;border:1px solid gainsboro;border-radius:2px;background-color:rgb(250, 250, 250);box-shadow:0px 3px 20px -12px;padding:0 15px 15px 15px;margin-bottom:30px}.section-table.svelte-uzbink.svelte-uzbink{width:100%;border-collapse:collapse}.section-header.svelte-uzbink.svelte-uzbink{text-align:left;padding-bottom:10px}.section-row.svelte-uzbink.svelte-uzbink{max-height:20px}.section-row.svelte-uzbink.svelte-uzbink:hover{cursor:pointer;background-color:rgb(229, 227, 227)}.components-section.svelte-uzbink.svelte-uzbink{display:flex}.component-col.svelte-uzbink.svelte-uzbink{width:calc(100% / 2);padding:20px;border:1px solid gainsboro;border-radius:2px;background-color:rgb(250, 250, 250);box-shadow:0px 3px 20px -12px}.component-col.svelte-uzbink.svelte-uzbink:not(:last-child){margin-right:15px}.component-col-header.svelte-uzbink.svelte-uzbink{font-size:20px;font-weight:500}.component-col-row.svelte-uzbink.svelte-uzbink{margin-top:10px}.section-row.svelte-uzbink>.svelte-uzbink:first-child,.section-header.svelte-uzbink>.svelte-uzbink:first-child{padding-left:15px}")}function ye(e,t,n){const o=e.slice();return o[7]=t[n],o}function ze(e,t,n){const o=e.slice();return o[10]=t[n],o}function _e(e,t,n){const o=e.slice();return o[13]=t[n],o}function Ce(e){let t,n,o,i,l,s,r,c,a,p=e[13].title+"",d=e[13].lastModifiedAt+"";function u(){return e[4](e[13])}return{c(){t=k("tr"),n=k("td"),o=y(p),i=z(),l=k("td"),s=y(d),r=z(),S(n,"class","svelte-uzbink"),S(l,"class","svelte-uzbink"),S(t,"class","section-row svelte-uzbink"),S(t,"height","40px")},m(e,p){$(e,t,p),g(t,n),g(n,o),g(t,i),g(t,l),g(l,s),g(t,r),c||(a=C(t,"click",u),c=!0)},p(t,n){e=t,2&n&&p!==(p=e[13].title+"")&&N(o,p),2&n&&d!==(d=e[13].lastModifiedAt+"")&&N(s,d)},d(e){e&&x(t),c=!1,a()}}}function Se(e){let t,n,o=e[10].title+"";return{c(){t=k("div"),n=y(o),S(t,"class","component-col-row svelte-uzbink")},m(e,o){$(e,t,o),g(t,n)},p(e,t){1&t&&o!==(o=e[10].title+"")&&N(n,o)},d(e){e&&x(t)}}}function Ee(e){let t,n,o=e[7].title+"";return{c(){t=k("div"),n=y(o),S(t,"class","component-col-row svelte-uzbink")},m(e,o){$(e,t,o),g(t,n)},p(e,t){1&t&&o!==(o=e[7].title+"")&&N(n,o)},d(e){e&&x(t)}}}function Ne(e){let t,o,i,l,s,r,c,a,p,d,u,f,v,h,m,w,_,E,N,T,D,A,I=e[1],L=[];for(let t=0;t<I.length;t+=1)L[t]=Ce(_e(e,I,t));let M=e[0]?.eventDefs||[],O=[];for(let t=0;t<M.length;t+=1)O[t]=Se(ze(e,M,t));let W=e[0]?.actionDefs||[],j=[];for(let t=0;t<W.length;t+=1)j[t]=Ee(ye(e,W,t));return{c(){t=k("div"),o=k("h2"),i=y("Workflows\r\n    "),l=k("span"),l.textContent="New +",s=z(),r=k("div"),c=k("table"),a=k("tr"),a.innerHTML='<th class="svelte-uzbink">Title</th> \n        \n        <th class="svelte-uzbink">Last Modified</th>',p=z();for(let e=0;e<L.length;e+=1)L[e].c();d=z(),u=k("h2"),u.textContent="Components",f=z(),v=k("div"),h=k("div"),m=k("div"),m.textContent="Events",w=z();for(let e=0;e<O.length;e+=1)O[e].c();_=z(),E=k("div"),N=k("div"),N.textContent="Actions",T=z();for(let e=0;e<j.length;e+=1)j[e].c();S(l,"class","btn svelte-uzbink"),S(o,"class","section-name svelte-uzbink"),S(a,"height","60px"),S(a,"class","section-header svelte-uzbink"),S(c,"class","section-table svelte-uzbink"),S(r,"class","section-container svelte-uzbink"),S(u,"class","section-name svelte-uzbink"),S(m,"class","component-col-header svelte-uzbink"),S(h,"class","component-col svelte-uzbink"),S(N,"class","component-col-header svelte-uzbink"),S(E,"class","component-col svelte-uzbink"),S(v,"class","components-section svelte-uzbink"),S(t,"class","content-area svelte-uzbink")},m(n,x){$(n,t,x),g(t,o),g(o,i),g(o,l),g(t,s),g(t,r),g(r,c),g(c,a),g(c,p);for(let e=0;e<L.length;e+=1)L[e].m(c,null);g(t,d),g(t,u),g(t,f),g(t,v),g(v,h),g(h,m),g(h,w);for(let e=0;e<O.length;e+=1)O[e].m(h,null);g(v,_),g(v,E),g(E,N),g(E,T);for(let e=0;e<j.length;e+=1)j[e].m(E,null);D||(A=C(l,"click",e[2]),D=!0)},p(e,[t]){if(10&t){let n;for(I=e[1],n=0;n<I.length;n+=1){const o=_e(e,I,n);L[n]?L[n].p(o,t):(L[n]=Ce(o),L[n].c(),L[n].m(c,null))}for(;n<L.length;n+=1)L[n].d(1);L.length=I.length}if(1&t){let n;for(M=e[0]?.eventDefs||[],n=0;n<M.length;n+=1){const o=ze(e,M,n);O[n]?O[n].p(o,t):(O[n]=Se(o),O[n].c(),O[n].m(h,null))}for(;n<O.length;n+=1)O[n].d(1);O.length=M.length}if(1&t){let n;for(W=e[0]?.actionDefs||[],n=0;n<W.length;n+=1){const o=ye(e,W,n);j[n]?j[n].p(o,t):(j[n]=Ee(o),j[n].c(),j[n].m(E,null))}for(;n<j.length;n+=1)j[n].d(1);j.length=W.length}},i:n,o:n,d(e){e&&x(t),b(L,e),b(O,e),b(j,e),D=!1,A()}}}function Te(e,t,n){let o,i=[],l=R("history");function s(e){l.pushState(`/workflow/?workflow-id=${e}`)}return e.$$.update=()=>{1&e.$$.dirty&&(o||ke.getMetadata().then((e=>n(0,o=e))))},ke.getAllWorkflows().then((e=>n(1,i=e))),[o,i,function(){l.pushState("/workflow/")},s,e=>s(e.id)]}var De=class extends ve{constructor(e){super(),ge(this,e,Te,Ne,c,{},we)}};function Ae(e){let t,o,i,l,s,c;const a=e[2].default,f=function(e,t,n,o){if(e){const i=p(e,t,n,o);return e[0](i)}}(a,e,e[1],null);return{c(){t=k("div"),o=k("div"),f&&f.c(),o.hidden=!0},m(a,p){var d;$(a,t,p),g(t,o),f&&f.m(o,null),l=!0,s||(d=i=Ie.call(null,t,e[0]),c=d&&r(d.destroy)?d.destroy:n,s=!0)},p(e,[t]){f&&f.p&&(!l||2&t)&&u(f,a,e,e[1],l?d(a,e[1],t,null):function(e){if(e.ctx.length>32){const t=[],n=e.ctx.length/32;for(let e=0;e<n;e++)t[e]=-1;return t}return-1}(e[1]),null),i&&r(i.update)&&1&t&&i.update.call(null,e[0])},i(e){l||(se(f,e),l=!0)},o(e){re(f,e),l=!1},d(e){e&&x(t),f&&f.d(e),s=!1,c()}}}function Ie(e,t="body"){let n,o=e.children[0];async function i(e){if("string"==typeof(t=e)){if(n=document.querySelector(t),null===n&&(await(K(),J),n=document.querySelector(t)),null===n)throw new Error(`No element found matching css selector: "${t}"`)}else{if(!(t instanceof HTMLElement))throw new TypeError(`Unknown portal target type: ${null===t?"null":typeof t}. Allowed types: string (CSS selector) or HTMLElement.`);n=t}n.appendChild(o),o.hidden=!1}let l=Le(e);return o.setAttribute("style",`position: absolute; left: ${l.offsetLeft}px; top: ${l.offsetTop}px;`),i(t),{update:i,destroy:function(){o.parentNode&&o.parentNode.removeChild(o)}}}function Le(e){let{offsetTop:t,offsetLeft:n}=e;if(e.offsetParent){let o=Le(e.offsetParent);t+=o.offsetTop,n+=o.offsetLeft}return{offsetTop:t,offsetLeft:n}}function Me(e,t,n){let{$$slots:o={},$$scope:i}=t,{target:l="body"}=t;return e.$$set=e=>{"target"in e&&n(0,l=e.target),"$$scope"in e&&n(1,i=e.$$scope)},[l,i,o]}var Oe=class extends ve{constructor(e){super(),ge(this,e,Me,Ae,c,{target:0})}};function We(e){v(e,"svelte-60kffc",".ref-expression.svelte-60kffc{display:flex;flex-direction:row;border:1.75px solid #ff9120;border-radius:2px;flex-wrap:wrap;padding:5px;background-color:rgb(253 246 234);gap:7px 7px}")}function je(e,t,n){const o=e.slice();return o[5]=t[n],o}function Be(e){let t,o,i,l=e[5].type+"";return{c(){t=k("option"),o=y(l),t.__value=i=e[5],t.value=t.__value},m(e,n){$(e,t,n),g(t,o)},p:n,d(e){e&&x(t)}}}function Fe(e){let t,o,i,l,r,c,a,p,d,u,f,v,h=e[1],m=[];for(let t=0;t<h.length;t+=1)m[t]=Be(je(e,h,t));return{c(){t=k("div"),o=k("select"),i=k("option"),l=y("Select Action");for(let e=0;e<m.length;e+=1)m[e].c();r=z(),c=k("div"),c.textContent="Output:",a=z(),p=k("select"),d=k("option"),u=y("Select"),i.__value=void 0,i.value=i.__value,void 0===e[0].settings.actionId&&X((()=>e[2].call(o))),d.__value=void 0,d.value=d.__value,void 0===e[0].settings.outputName&&X((()=>e[3].call(p))),S(t,"class","ref-expression svelte-60kffc")},m(n,s){$(n,t,s),g(t,o),g(o,i),g(i,l);for(let e=0;e<m.length;e+=1)m[e].m(o,null);A(o,e[0].settings.actionId),g(t,r),g(t,c),g(t,a),g(t,p),g(p,d),g(d,u),A(p,e[0].settings.outputName),f||(v=[C(o,"change",e[2]),C(p,"change",e[3])],f=!0)},p(e,[t]){if(2&t){let n;for(h=e[1],n=0;n<h.length;n+=1){const i=je(e,h,n);m[n]?m[n].p(i,t):(m[n]=Be(i),m[n].c(),m[n].m(o,null))}for(;n<m.length;n+=1)m[n].d(1);m.length=h.length}3&t&&A(o,e[0].settings.actionId),3&t&&A(p,e[0].settings.outputName)},i:n,o:n,d(e){e&&x(t),b(m,e),f=!1,s(v)}}}function Re(e,t){let n=t.pop();if("workflow"===n.kind)return[];if("path"===n.kind){const o=n.steps.indexOf(e);let i=n.steps.slice(0,o).filter((e=>"action"===e.kind));return[...Re(n,t),...i]}return Re(n,t)}function qe(e,t,n){let{def:o}=t,i=[...R("parents")],l=Re(i.pop(),i).reverse();return e.$$set=e=>{"def"in e&&n(0,o=e.def)},e.$$.update=()=>{1&e.$$.dirty&&(o.settings||n(0,o.settings={actionId:null,outputName:null},o))},[o,l,function(){o.settings.actionId=I(this),n(0,o),n(1,l)},function(){o.settings.outputName=I(this),n(0,o),n(1,l)}]}var Pe=class extends ve{constructor(e){super(),ge(this,e,qe,Fe,c,{def:0},We)}};function Ve(e){v(e,"svelte-1qidylm","input.svelte-1qidylm{background-color:rgb(243 243 251);border:1.75px solid rgb(38, 38, 205);border-radius:2px}")}function He(e){let t,o,i;return{c(){t=k("input"),S(t,"type","text"),S(t,"class","svelte-1qidylm")},m(n,l){$(n,t,l),T(t,e[0].inputs.value),o||(i=C(t,"input",e[1]),o=!0)},p(e,[n]){1&n&&t.value!==e[0].inputs.value&&T(t,e[0].inputs.value)},i:n,o:n,d(e){e&&x(t),o=!1,i()}}}function Ue(e,t,n){let{def:o}=t;return e.$$set=e=>{"def"in e&&n(0,o=e.def)},e.$$.update=()=>{1&e.$$.dirty&&(o.inputs||n(0,o.inputs={value:null},o))},[o,function(){o.inputs.value=this.value,n(0,o)}]}var Je=class extends ve{constructor(e){super(),ge(this,e,Ue,He,c,{def:0},Ve)}};function Ge(e){v(e,"svelte-1nlw00k","input.svelte-1nlw00k{background-color:rgb(255 255 236);border:1.75px solid rgb(194, 194, 19);border-radius:2px}")}function Ke(e){let t,o,i;return{c(){t=k("input"),S(t,"type","number"),S(t,"class","svelte-1nlw00k")},m(n,l){$(n,t,l),T(t,e[0].inputs.value),o||(i=C(t,"input",e[1]),o=!0)},p(e,[n]){1&n&&E(t.value)!==e[0].inputs.value&&T(t,e[0].inputs.value)},i:n,o:n,d(e){e&&x(t),o=!1,i()}}}function Xe(e,t,n){let{def:o}=t;return e.$$set=e=>{"def"in e&&n(0,o=e.def)},e.$$.update=()=>{1&e.$$.dirty&&(o.inputs||n(0,o.inputs={value:null},o))},[o,function(){o.inputs.value=E(this.value),n(0,o)}]}var Ye=class extends ve{constructor(e){super(),ge(this,e,Xe,Ke,c,{def:0},Ge)}};function Qe(e){v(e,"svelte-1bbmcy0",".decision-expression.svelte-1bbmcy0.svelte-1bbmcy0{display:flex;flex-direction:row;border:1.75px solid rgb(129, 70, 255);flex-wrap:wrap;padding:7px;background-color:rgb(243 237 255);gap:7px 7px;border-radius:2px}.decision-expression.svelte-1bbmcy0>div.svelte-1bbmcy0{display:flex;flex-direction:row;flex-wrap:nowrap;gap:7px 7px}")}function Ze(e){let t,n,o,i,l,s,r,c,a,p,d,u,f,v,h,m,b,w,y;return s=new Ct({props:{def:e[0].inputs.condition}}),u=new Ct({props:{def:e[0].inputs.trueValue}}),w=new Ct({props:{def:e[0].inputs.falseValue}}),{c(){t=k("div"),n=k("div"),o=k("div"),o.textContent="If",i=z(),l=k("div"),de(s.$$.fragment),r=z(),c=k("div"),a=k("div"),a.textContent="Then",p=z(),d=k("div"),de(u.$$.fragment),f=z(),v=k("div"),h=k("div"),h.textContent="Else",m=z(),b=k("div"),de(w.$$.fragment),S(n,"class","svelte-1bbmcy0"),S(c,"class","svelte-1bbmcy0"),S(v,"class","svelte-1bbmcy0"),S(t,"class","decision-expression svelte-1bbmcy0")},m(e,x){$(e,t,x),g(t,n),g(n,o),g(n,i),g(n,l),ue(s,l,null),g(t,r),g(t,c),g(c,a),g(c,p),g(c,d),ue(u,d,null),g(t,f),g(t,v),g(v,h),g(v,m),g(v,b),ue(w,b,null),y=!0},p(e,[t]){const n={};1&t&&(n.def=e[0].inputs.condition),s.$set(n);const o={};1&t&&(o.def=e[0].inputs.trueValue),u.$set(o);const i={};1&t&&(i.def=e[0].inputs.falseValue),w.$set(i)},i(e){y||(se(s.$$.fragment,e),se(u.$$.fragment,e),se(w.$$.fragment,e),y=!0)},o(e){re(s.$$.fragment,e),re(u.$$.fragment,e),re(w.$$.fragment,e),y=!1},d(e){e&&x(t),fe(s),fe(u),fe(w)}}}function et(e,t,n){let{def:o}=t;return e.$$set=e=>{"def"in e&&n(0,o=e.def)},e.$$.update=()=>{1&e.$$.dirty&&(o.inputs||n(0,o.inputs={condition:{kind:"expression"},trueValue:{kind:"expression"},falseValue:{kind:"expression"}},o))},[o]}var tt=class extends ve{constructor(e){super(),ge(this,e,et,Ze,c,{def:0},Qe)}};function nt(e){v(e,"svelte-tbrw02",".condition-expression.svelte-tbrw02{display:flex;flex-direction:row;border:1.75px solid rgb(129, 70, 255);flex-wrap:wrap;padding:7px;background-color:rgb(243 237 255);gap:7px 7px;border-radius:2px}")}function ot(e){let t,n,o,i,l,s,r,c,a,p,d,u,f,v;return o=new Ct({props:{def:e[0].inputs.firstValue}}),d=new Ct({props:{def:e[0].inputs.secondValue}}),{c(){t=k("div"),n=k("div"),de(o.$$.fragment),i=z(),l=k("select"),s=k("option"),s.textContent="Equals",r=k("option"),r.textContent="Is Less Than",c=k("option"),c.textContent="Is Greater Than",a=z(),p=k("div"),de(d.$$.fragment),s.__value="==",s.value=s.__value,r.__value="<",r.value=r.__value,c.__value=">",c.value=c.__value,void 0===e[0].settings.conditionType&&X((()=>e[1].call(l))),S(t,"class","condition-expression svelte-tbrw02")},m(h,m){$(h,t,m),g(t,n),ue(o,n,null),g(t,i),g(t,l),g(l,s),g(l,r),g(l,c),A(l,e[0].settings.conditionType),g(t,a),g(t,p),ue(d,p,null),u=!0,f||(v=C(l,"change",e[1]),f=!0)},p(e,[t]){const n={};1&t&&(n.def=e[0].inputs.firstValue),o.$set(n),1&t&&A(l,e[0].settings.conditionType);const i={};1&t&&(i.def=e[0].inputs.secondValue),d.$set(i)},i(e){u||(se(o.$$.fragment,e),se(d.$$.fragment,e),u=!0)},o(e){re(o.$$.fragment,e),re(d.$$.fragment,e),u=!1},d(e){e&&x(t),fe(o),fe(d),f=!1,v()}}}function it(e,t,n){let{def:o}=t;return e.$$set=e=>{"def"in e&&n(0,o=e.def)},e.$$.update=()=>{1&e.$$.dirty&&(o.inputs||n(0,o.inputs={firstValue:{kind:"expression"},secondValue:{kind:"expression"}},o),o.settings||n(0,o.settings={conditionType:"=="},o))},[o,function(){o.settings.conditionType=I(this),n(0,o)}]}var lt=class extends ve{constructor(e){super(),ge(this,e,it,ot,c,{def:0},nt)}};function st(e){v(e,"svelte-1vig6ia",".and-or-expression.svelte-1vig6ia{display:flex;flex-direction:row;border:1.75px solid rgb(129, 70, 255);flex-wrap:wrap;padding:7px;background-color:rgb(243 237 255);gap:7px 7px;border-radius:2px}")}function rt(e){let t,n,o,i,l,s,r,c,a,p,d,u,f;return o=new Ct({props:{def:e[0].inputs.firstCondition}}),p=new Ct({props:{def:e[0].inputs.secondCondition}}),{c(){t=k("div"),n=k("div"),de(o.$$.fragment),i=z(),l=k("select"),s=k("option"),s.textContent="AND",r=k("option"),r.textContent="OR",c=z(),a=k("div"),de(p.$$.fragment),s.__value="and",s.value=s.__value,r.__value="or",r.value=r.__value,void 0===e[0].settings.conditionGroupType&&X((()=>e[1].call(l))),S(t,"class","and-or-expression svelte-1vig6ia")},m(v,h){$(v,t,h),g(t,n),ue(o,n,null),g(t,i),g(t,l),g(l,s),g(l,r),A(l,e[0].settings.conditionGroupType),g(t,c),g(t,a),ue(p,a,null),d=!0,u||(f=C(l,"change",e[1]),u=!0)},p(e,[t]){const n={};1&t&&(n.def=e[0].inputs.firstCondition),o.$set(n),1&t&&A(l,e[0].settings.conditionGroupType);const i={};1&t&&(i.def=e[0].inputs.secondCondition),p.$set(i)},i(e){d||(se(o.$$.fragment,e),se(p.$$.fragment,e),d=!0)},o(e){re(o.$$.fragment,e),re(p.$$.fragment,e),d=!1},d(e){e&&x(t),fe(o),fe(p),u=!1,f()}}}function ct(e,t,n){let{def:o}=t;return e.$$set=e=>{"def"in e&&n(0,o=e.def)},e.$$.update=()=>{1&e.$$.dirty&&(o.inputs||n(0,o.inputs={firstCondition:{kind:"expression"},secondCondition:{kind:"expression"}},o),o.settings||n(0,o.settings={conditionGroupType:"and"},o))},[o,function(){o.settings.conditionGroupType=I(this),n(0,o)}]}var at={categories:[{title:"Core",expressions:[{component:Je,title:"Text",type:"text"},{component:Ye,title:"Number",type:"number"},{component:Pe,title:"Action Result",type:"action-result"},{component:tt,title:"Decision",type:"decision"},{component:lt,title:"Condition",type:"condition"},{component:class extends ve{constructor(e){super(),ge(this,e,ct,rt,c,{def:0},st)}},title:"AND/OR",type:"and-or"}]}]};function pt(e){v(e,"svelte-1czul97",".expression-selector.svelte-1czul97.svelte-1czul97{position:absolute;top:calc(100% + 10px);left:calc(50%);transform:translateX(-50%);background-color:#fafafa;border:.5px solid black;min-width:400px;z-index:15;border-radius:4px;cursor:default;color:black;text-align:initial;padding:15px;box-shadow:0px 3px 10px -10px}.category.svelte-1czul97.svelte-1czul97{margin-bottom:20px}.category-header.svelte-1czul97.svelte-1czul97{padding:5px;font-size:20px}.category-values.svelte-1czul97.svelte-1czul97{display:flex;flex-direction:row;flex-wrap:wrap}.category-values.svelte-1czul97>div.svelte-1czul97{margin-right:10px;margin-top:10px;background-color:lightgrey;border:1.2px solid lightgrey;padding:3px 10px;border-radius:4px;cursor:pointer;box-sizing:content-box}.category-values.svelte-1czul97>div.svelte-1czul97:hover{border:1.2px solid gray}")}function dt(e,t,n){const o=e.slice();return o[8]=t[n],o}function ut(e,t,n){const o=e.slice();return o[11]=t[n],o}function ft(e){let t,n=at.categories,o=[];for(let t=0;t<n.length;t+=1)o[t]=vt(dt(e,n,t));return{c(){t=k("div");for(let e=0;e<o.length;e+=1)o[e].c();S(t,"class","expression-selector svelte-1czul97")},m(e,n){$(e,t,n);for(let e=0;e<o.length;e+=1)o[e].m(t,null)},p(e,i){if(2&i){let l;for(n=at.categories,l=0;l<n.length;l+=1){const s=dt(e,n,l);o[l]?o[l].p(s,i):(o[l]=vt(s),o[l].c(),o[l].m(t,null))}for(;l<o.length;l+=1)o[l].d(1);o.length=n.length}},d(e){e&&x(t),b(o,e)}}}function gt(e){let t,n,o,i,l,s=e[11].title+"";function r(){return e[6](e[11])}return{c(){t=k("div"),n=y(s),o=z(),S(t,"class","svelte-1czul97")},m(e,s){$(e,t,s),g(t,n),g(t,o),i||(l=C(t,"click",r),i=!0)},p(t,n){e=t},d(e){e&&x(t),i=!1,l()}}}function vt(e){let t,n,o,i,l,s,r=e[8].title+"",c=e[8].expressions,a=[];for(let t=0;t<c.length;t+=1)a[t]=gt(ut(e,c,t));return{c(){t=k("div"),n=k("div"),o=y(r),i=z(),l=k("div");for(let e=0;e<a.length;e+=1)a[e].c();s=z(),S(n,"class","category-header svelte-1czul97"),S(l,"class","category-values svelte-1czul97"),S(t,"class","category svelte-1czul97")},m(e,r){$(e,t,r),g(t,n),g(n,o),g(t,i),g(t,l);for(let e=0;e<a.length;e+=1)a[e].m(l,null);g(t,s)},p(e,t){if(2&t){let n;for(c=e[8].expressions,n=0;n<c.length;n+=1){const o=ut(e,c,n);a[n]?a[n].p(o,t):(a[n]=gt(o),a[n].c(),a[n].m(l,null))}for(;n<a.length;n+=1)a[n].d(1);a.length=c.length}},d(e){e&&x(t),b(a,e)}}}function ht(e){let t,o,i,l=e[0]&&ft(e);return{c(){l&&l.c(),t=_()},m(n,s){l&&l.m(n,s),$(n,t,s),o||(i=C(window,"click",e[2]),o=!0)},p(e,[n]){e[0]?l?l.p(e,n):(l=ft(e),l.c(),l.m(t.parentNode,t)):l&&(l.d(1),l=null)},i:n,o:n,d(e){l&&l.d(e),e&&x(t),o=!1,i()}}}let mt=()=>null;function $t(e,t,n){let{rootEl:o}=t;const i=B();function l(e){i("selection",e),r()}let s=!1;const r=()=>{s&&n(0,s=!1)};return e.$$set=e=>{"rootEl"in e&&n(3,o=e.rootEl)},[s,l,function({target:e}){s&&!o.contains(e)&&r()},o,()=>{s||(mt(),mt=r,n(0,s=!0))},r,e=>l(e)]}var xt=class extends ve{constructor(e){super(),ge(this,e,$t,ht,c,{rootEl:3,open:4,close:5},pt)}get open(){return this.$$.ctx[4]}get close(){return this.$$.ctx[5]}};function bt(e){v(e,"svelte-1h74l6v",".empty-expression.svelte-1h74l6v.svelte-1h74l6v{background-color:white;display:block;min-width:70px;min-height:24px;border:1px solid black;border-radius:3px}.expression-root.svelte-1h74l6v.svelte-1h74l6v{position:relative}.remove-btn.svelte-1h74l6v.svelte-1h74l6v{position:absolute;top:0;transform:translate(-50%, -100%);left:50%;display:none}.hovering.svelte-1h74l6v>.remove-btn.svelte-1h74l6v{display:block}")}function kt(e){let t,o,i;return{c(){t=k("div"),S(t,"class","empty-expression svelte-1h74l6v")},m(n,l){$(n,t,l),o||(i=C(t,"click",(function(){r(e[3])&&e[3].apply(this,arguments)})),o=!0)},p(t,n){e=t},i:n,o:n,d(e){e&&x(t),o=!1,i()}}}function wt(e){let t,n,o;var i=e[1].component;function l(e){return{props:{def:e[0]}}}return i&&(t=new i(l(e))),{c(){t&&de(t.$$.fragment),n=_()},m(e,i){t&&ue(t,e,i),$(e,n,i),o=!0},p(e,o){const s={};if(1&o&&(s.def=e[0]),i!==(i=e[1].component)){if(t){ie();const e=t;re(e.$$.fragment,1,0,(()=>{fe(e,1)})),le()}i?(t=new i(l(e)),de(t.$$.fragment),se(t.$$.fragment,1),ue(t,n.parentNode,n)):t=null}else i&&t.$set(s)},i(e){o||(t&&se(t.$$.fragment,e),o=!0)},o(e){t&&re(t.$$.fragment,e),o=!1},d(e){e&&x(n),t&&fe(t,e)}}}function yt(e){let t,o,i,l;return{c(){t=k("div"),o=k("button"),o.textContent="Remove",S(o,"type","button"),S(t,"class","remove-btn svelte-1h74l6v")},m(n,s){$(n,t,s),g(t,o),i||(l=C(o,"click",e[5]),i=!0)},p:n,d(e){e&&x(t),i=!1,l()}}}function zt(e){let t,n,o,i,l,s,r,c,a;const p=[wt,kt],d=[];function u(e,t){return e[1]?0:1}function f(t){e[6](t)}n=u(e),o=d[n]=p[n](e);let v={rootEl:e[2]};void 0!==e[3]&&(v.open=e[3]),l=new xt({props:v}),V.push((()=>pe(l,"open",f))),l.$on("selection",e[4]);let h=e[1]&&yt(e);return{c(){t=k("div"),o.c(),i=z(),de(l.$$.fragment),r=z(),h&&h.c(),S(t,"class",c="expression-root hover-target  svelte-1h74l6v")},m(o,s){$(o,t,s),d[n].m(t,null),g(t,i),ue(l,t,null),g(t,r),h&&h.m(t,null),e[7](t),a=!0},p(e,[r]){let c=n;n=u(e),n===c?d[n].p(e,r):(ie(),re(d[c],1,1,(()=>{d[c]=null})),le(),o=d[n],o?o.p(e,r):(o=d[n]=p[n](e),o.c()),se(o,1),o.m(t,i));const a={};4&r&&(a.rootEl=e[2]),!s&&8&r&&(s=!0,a.open=e[3],Y((()=>s=!1))),l.$set(a),e[1]?h?h.p(e,r):(h=yt(e),h.c(),h.m(t,null)):h&&(h.d(1),h=null)},i(e){a||(se(o),se(l.$$.fragment,e),a=!0)},o(e){re(o),re(l.$$.fragment,e),a=!1},d(o){o&&x(t),d[n].d(),fe(l),h&&h.d(),e[7](null)}}}function _t(e,t,n){let o,i,l,{def:s}=t;return e.$$set=e=>{"def"in e&&n(0,s=e.def)},e.$$.update=()=>{3&e.$$.dirty&&s?.type!==o?.type&&n(1,o=at.categories[0].expressions.find((e=>e.type===s.type)))},[s,o,i,l,function(e){n(1,o=e.detail),n(0,s.type=e.detail.type,s)},function(){n(0,s.type=void 0,s),n(0,s.inputs={},s)},function(e){l=e,n(3,l)},function(e){V[e?"unshift":"push"]((()=>{i=e,n(2,i)}))}]}var Ct=class extends ve{constructor(e){super(),ge(this,e,_t,zt,c,{def:0},bt)}};function St(e){v(e,"svelte-1lo1iva",".action-editor.svelte-1lo1iva.svelte-1lo1iva{position:absolute;left:60px;transform:translateY(-50%);background-color:#fafafa;border:.5px solid black;min-width:300px;max-width:500px;width:max-content;z-index:15;border-radius:4px;cursor:default;color:black;text-align:initial;padding:15px;box-shadow:0px 3px 10px -10px}.actions.svelte-1lo1iva.svelte-1lo1iva{position:absolute;top:5px;right:5px}.section-header.svelte-1lo1iva.svelte-1lo1iva{font-size:20px;font-weight:700}.inputs-area.svelte-1lo1iva.svelte-1lo1iva{display:table}.input.svelte-1lo1iva.svelte-1lo1iva{display:table-row}.input.svelte-1lo1iva>div.svelte-1lo1iva{display:table-cell;vertical-align:top;padding-top:5px;padding-bottom:5px}.input-label.svelte-1lo1iva.svelte-1lo1iva{padding-right:10px;font-weight:700}select.svelte-1lo1iva.svelte-1lo1iva{padding:3px 7px;border-radius:2px}")}function Et(e,t,n){const o=e.slice();return o[19]=t[n].inputName,o[20]=t[n].inputDef,o}function Nt(e,t,n){const o=e.slice();return o[23]=t[n],o}function Tt(e,t,n){const o=e.slice();return o[26]=t[n],o}function Dt(e){let t,n;return t=new Oe({props:{target:"#action-editor-portal",$$slots:{default:[Rt]},$$scope:{ctx:e}}}),{c(){de(t.$$.fragment)},m(e,o){ue(t,e,o),n=!0},p(e,n){const o={};536871031&n&&(o.$$scope={dirty:n,ctx:e}),t.$set(o)},i(e){n||(se(t.$$.fragment,e),n=!0)},o(e){re(t.$$.fragment,e),n=!1},d(e){fe(t,e)}}}function At(e){let t,n,o,i,l,s,r,c,a,p=e[1]&&It(e);return{c(){t=k("div"),n=k("label"),o=k("div"),o.textContent="Action",i=z(),l=k("select"),s=k("option"),r=y("Select"),p&&p.c(),S(o,"class","section-header svelte-1lo1iva"),s.__value=void 0,s.value=s.__value,s.disabled=!0,S(l,"class","svelte-1lo1iva"),void 0===e[0].type&&X((()=>e[14].call(l)))},m(d,u){$(d,t,u),g(t,n),g(n,o),g(n,i),g(n,l),g(l,s),g(s,r),p&&p.m(l,null),A(l,e[0].type),c||(a=C(l,"change",e[14]),c=!0)},p(e,t){e[1]?p?p.p(e,t):(p=It(e),p.c(),p.m(l,null)):p&&(p.d(1),p=null),3&t&&A(l,e[0].type)},d(e){e&&x(t),p&&p.d(),c=!1,a()}}}function It(e){let t,n=e[1].actionDefs,o=[];for(let t=0;t<n.length;t+=1)o[t]=Lt(Tt(e,n,t));return{c(){for(let e=0;e<o.length;e+=1)o[e].c();t=_()},m(e,n){for(let t=0;t<o.length;t+=1)o[t].m(e,n);$(e,t,n)},p(e,i){if(2&i){let l;for(n=e[1].actionDefs,l=0;l<n.length;l+=1){const s=Tt(e,n,l);o[l]?o[l].p(s,i):(o[l]=Lt(s),o[l].c(),o[l].m(t.parentNode,t))}for(;l<o.length;l+=1)o[l].d(1);o.length=n.length}},d(e){b(o,e),e&&x(t)}}}function Lt(e){let t,n,o,i=e[26].title+"";return{c(){t=k("option"),n=y(i),t.__value=o=e[26].type,t.value=t.__value},m(e,o){$(e,t,o),g(t,n)},p(e,l){2&l&&i!==(i=e[26].title+"")&&N(n,i),2&l&&o!==(o=e[26].type)&&(t.__value=o,t.value=t.__value)},d(e){e&&x(t)}}}function Mt(e){let t,n,o,i,l,s,r,c,a,p=e[1]&&Ot(e);return{c(){t=k("div"),n=k("label"),o=k("div"),o.textContent="Trigger",i=z(),l=k("select"),s=k("option"),r=y("Select"),p&&p.c(),S(o,"class","section-header svelte-1lo1iva"),s.__value=void 0,s.value=s.__value,s.disabled=!0,S(l,"class","svelte-1lo1iva"),void 0===e[0].type&&X((()=>e[15].call(l)))},m(d,u){$(d,t,u),g(t,n),g(n,o),g(n,i),g(n,l),g(l,s),g(s,r),p&&p.m(l,null),A(l,e[0].type),c||(a=C(l,"change",e[15]),c=!0)},p(e,t){e[1]?p?p.p(e,t):(p=Ot(e),p.c(),p.m(l,null)):p&&(p.d(1),p=null),3&t&&A(l,e[0].type)},d(e){e&&x(t),p&&p.d(),c=!1,a()}}}function Ot(e){let t,n=e[1].eventDefs,o=[];for(let t=0;t<n.length;t+=1)o[t]=Wt(Nt(e,n,t));return{c(){for(let e=0;e<o.length;e+=1)o[e].c();t=_()},m(e,n){for(let t=0;t<o.length;t+=1)o[t].m(e,n);$(e,t,n)},p(e,i){if(2&i){let l;for(n=e[1].eventDefs,l=0;l<n.length;l+=1){const s=Nt(e,n,l);o[l]?o[l].p(s,i):(o[l]=Wt(s),o[l].c(),o[l].m(t.parentNode,t))}for(;l<o.length;l+=1)o[l].d(1);o.length=n.length}},d(e){b(o,e),e&&x(t)}}}function Wt(e){let t,n,o,i=e[23].title+"";return{c(){t=k("option"),n=y(i),t.__value=o=e[23].type,t.value=t.__value},m(e,o){$(e,t,o),g(t,n)},p(e,l){2&l&&i!==(i=e[23].title+"")&&N(n,i),2&l&&o!==(o=e[23].type)&&(t.__value=o,t.value=t.__value)},d(e){e&&x(t)}}}function jt(e){let t,n,o,i,l,s,r,c=e[2]&&Bt(e);return{c(){t=k("hr"),n=z(),o=k("div"),i=k("div"),i.textContent="Inputs",l=z(),s=k("div"),c&&c.c(),S(i,"class","section-header svelte-1lo1iva"),S(s,"class","inputs-area svelte-1lo1iva"),S(o,"class","inputs-section")},m(e,a){$(e,t,a),$(e,n,a),$(e,o,a),g(o,i),g(o,l),g(o,s),c&&c.m(s,null),r=!0},p(e,t){e[2]?c?(c.p(e,t),4&t&&se(c,1)):(c=Bt(e),c.c(),se(c,1),c.m(s,null)):c&&(ie(),re(c,1,1,(()=>{c=null})),le())},i(e){r||(se(c),r=!0)},o(e){re(c),r=!1},d(e){e&&x(t),e&&x(n),e&&x(o),c&&c.d()}}}function Bt(e){let t,n,o=e[6],i=[];for(let t=0;t<o.length;t+=1)i[t]=Ft(Et(e,o,t));const l=e=>re(i[e],1,1,(()=>{i[e]=null}));return{c(){for(let e=0;e<i.length;e+=1)i[e].c();t=_()},m(e,o){for(let t=0;t<i.length;t+=1)i[t].m(e,o);$(e,t,o),n=!0},p(e,n){if(65&n){let s;for(o=e[6],s=0;s<o.length;s+=1){const l=Et(e,o,s);i[s]?(i[s].p(l,n),se(i[s],1)):(i[s]=Ft(l),i[s].c(),se(i[s],1),i[s].m(t.parentNode,t))}for(ie(),s=o.length;s<i.length;s+=1)l(s);le()}},i(e){if(!n){for(let e=0;e<o.length;e+=1)se(i[e]);n=!0}},o(e){i=i.filter(Boolean);for(let e=0;e<i.length;e+=1)re(i[e]);n=!1},d(e){b(i,e),e&&x(t)}}}function Ft(e){let t,n,o,i,l,s,r,c,a,p=(e[20].title||e[19])+"";return r=new Ct({props:{def:e[0].inputs[e[19]]}}),{c(){t=k("div"),n=k("div"),o=y(p),i=z(),l=k("div"),s=k("div"),de(r.$$.fragment),c=z(),S(n,"class","input-label svelte-1lo1iva"),S(s,"class","input-value"),S(l,"class","svelte-1lo1iva"),S(t,"class","input svelte-1lo1iva")},m(e,p){$(e,t,p),g(t,n),g(n,o),g(t,i),g(t,l),g(l,s),ue(r,s,null),g(t,c),a=!0},p(e,t){(!a||64&t)&&p!==(p=(e[20].title||e[19])+"")&&N(o,p);const n={};65&t&&(n.def=e[0].inputs[e[19]]),r.$set(n)},i(e){a||(se(r.$$.fragment,e),a=!0)},o(e){re(r.$$.fragment,e),a=!1},d(e){e&&x(t),fe(r)}}}function Rt(e){let t,n,o,i,l,s,r,c,a,p,d,u="action"===e[0].kind&&At(e),f="trigger"===e[0].kind&&Mt(e),v=e[0].type&&"action"===e[0].kind&&jt(e);return{c(){t=k("div"),n=k("div"),o=k("button"),o.textContent="Remove",i=z(),l=k("button"),l.textContent="Close",s=z(),u&&u.c(),r=z(),f&&f.c(),c=z(),v&&v.c(),S(o,"type","button"),S(l,"type","button"),S(n,"class","actions svelte-1lo1iva"),S(t,"class","action-editor svelte-1lo1iva")},m(h,m){$(h,t,m),g(t,n),g(n,o),g(n,i),g(n,l),e[13](l),g(t,s),u&&u.m(t,null),g(t,r),f&&f.m(t,null),g(t,c),v&&v.m(t,null),e[16](t),a=!0,p||(d=C(o,"click",e[8]),p=!0)},p(e,n){"action"===e[0].kind?u?u.p(e,n):(u=At(e),u.c(),u.m(t,r)):u&&(u.d(1),u=null),"trigger"===e[0].kind?f?f.p(e,n):(f=Mt(e),f.c(),f.m(t,c)):f&&(f.d(1),f=null),e[0].type&&"action"===e[0].kind?v?(v.p(e,n),1&n&&se(v,1)):(v=jt(e),v.c(),se(v,1),v.m(t,null)):v&&(ie(),re(v,1,1,(()=>{v=null})),le())},i(e){a||(se(v),a=!0)},o(e){re(v),a=!1},d(n){n&&x(t),e[13](null),u&&u.d(),f&&f.d(),v&&v.d(),e[16](null),p=!1,d()}}}function qt(e){let t,n,o,i,l=e[3]&&Dt(e);return{c(){l&&l.c(),t=_()},m(s,r){l&&l.m(s,r),$(s,t,r),n=!0,o||(i=C(window,"click",e[7]),o=!0)},p(e,[n]){e[3]?l?(l.p(e,n),8&n&&se(l,1)):(l=Dt(e),l.c(),se(l,1),l.m(t.parentNode,t)):l&&(ie(),re(l,1,1,(()=>{l=null})),le())},i(e){n||(se(l),n=!0)},o(e){re(l),n=!1},d(e){l&&l.d(e),e&&x(t),o=!1,i()}}}let Pt=()=>null;function Vt(e,t,n){let o,i,{def:l}=t,{rootEl:s}=t;const r=B();let c,a;j((async()=>{n(0,l.inputs=l.inputs||{},l),n(1,c=await ke.getMetadata())}));let p,d=!1;const u=()=>{d&&n(3,d=!1)};let f;return e.$$set=e=>{"def"in e&&n(0,l=e.def),"rootEl"in e&&n(9,s=e.rootEl)},e.$$.update=()=>{1&e.$$.dirty&&l?.type&&r("change-type",l.type),3&e.$$.dirty&&(n(2,a=c?.actionDefs.find((e=>e.type===l.type))),function(){if(!a?.inputSchema.properties)return;const e={};for(let t in a?.inputSchema.properties||[])e[t]=l.inputs[t]||{kind:"expression"};n(0,l.inputs=e,l)}()),4&e.$$.dirty&&n(12,o=Object.keys(a?.inputSchema.properties||{})),4100&e.$$.dirty&&n(6,i=o.map((e=>({inputName:e,inputDef:a.inputSchema.properties[e]}))))},[l,c,a,d,p,f,i,function(e){(d&&e.target.isConnected&&!s.contains(e.target)&&!p.contains(e.target)||e.target===f)&&u()},function(){r("remove"),u()},s,()=>{d||(Pt(),Pt=u,n(3,d=!0))},u,o,function(e){V[e?"unshift":"push"]((()=>{f=e,n(5,f)}))},function(){l.type=I(this),n(0,l),n(1,c)},function(){l.type=I(this),n(0,l),n(1,c)},function(e){V[e?"unshift":"push"]((()=>{p=e,n(4,p)}))}]}var Ht=class extends ve{constructor(e){super(),ge(this,e,Vt,qt,c,{def:0,rootEl:9,open:10,close:11},St)}get open(){return this.$$.ctx[10]}get close(){return this.$$.ctx[11]}};const Ut=["#EF5350","#EC407A","#AB47BC","#7E57C2","#5C6BC0","#42A5F5","#29B6F6","#26C6DA","#26A69A","#66BB6A","#9CCC65","#D4E157","#FFEE58","#FFCA28","#FFA726","#FF7043","#8D6E63","#78909C"];function Jt(e){if(!e||"?"===e)return"#9E9E9E";let t=function(e){var t,n=0;if(0===e.length)return n;for(t=0;t<e.length;t++)n=(n<<5)-n+e.charCodeAt(t),n|=0;return n}(e),n=Math.abs(t%Ut.length);return Ut[n]}function Gt(e){v(e,"svelte-co8fod",".node.svelte-co8fod{background-color:black;padding:50px;border-radius:1000px;color:white;margin:15px;position:relative;cursor:pointer;box-shadow:black 0px 1px 6px -3px;filter:brightness(1.1)\r\n  }.node-name.svelte-co8fod{background-color:#f9f9f9;padding:0 7px;position:absolute;color:black;font-size:14px;left:50%;top:50%;transform:translate(-50%, -50%);border-radius:5px;white-space:nowrap;box-shadow:black 0px 1px 7px -4px}.svg-path.svelte-co8fod{position:absolute;left:30px;top:30px;z-index:-10;width:10px;overflow:visible}.hovering.svelte-co8fod{border:3px solid lightblue;padding:47px}")}function Kt(e){let t,n,o,i,l,s,c,a,p,d;function u(t){e[6](t)}let f={def:e[0],rootEl:e[1]};return void 0!==e[2]&&(f.open=e[2]),l=new Ht({props:f}),V.push((()=>pe(l,"open",u))),l.$on("change-type",e[7]),l.$on("remove",e[8]),{c(){t=k("div"),n=k("div"),o=y(e[3]),i=z(),de(l.$$.fragment),S(n,"class","node-name svelte-co8fod"),S(t,"class",c="node hover-target  svelte-co8fod"),D(t,"background-color",Jt(e[3]))},m(s,c){$(s,t,c),g(t,n),g(n,o),g(t,i),ue(l,t,null),e[9](t),a=!0,p||(d=C(t,"click",(function(){r(e[2])&&e[2].apply(this,arguments)})),p=!0)},p(n,[i]){e=n,(!a||8&i)&&N(o,e[3]);const r={};1&i&&(r.def=e[0]),2&i&&(r.rootEl=e[1]),!s&&4&i&&(s=!0,r.open=e[2],Y((()=>s=!1))),l.$set(r),(!a||8&i)&&D(t,"background-color",Jt(e[3]))},i(e){a||(se(l.$$.fragment,e),a=!0)},o(e){re(l.$$.fragment,e),a=!1},d(n){n&&x(t),fe(l),e[9](null),p=!1,d()}}}function Xt(e,t,n){let o,i,l,s,{def:r}=t,{kind:c}=t;function a(e){let t=s?.find((t=>t.type===e));n(3,l=t?.title||"?")}F("parents",[...R("parents")||[],r]),ke.getMetadata().then((e=>{s="trigger"===c?e.eventDefs:e.actionDefs,a(r?.type)}));return e.$$set=e=>{"def"in e&&n(0,r=e.def),"kind"in e&&n(5,c=e.kind)},[r,o,i,l,a,c,function(e){i=e,n(2,i)},e=>a(e.detail),function(t){q.call(this,e,t)},function(e){V[e?"unshift":"push"]((()=>{o=e,n(1,o)}))}]}var Yt=class extends ve{constructor(e){super(),ge(this,e,Xt,Kt,c,{def:0,kind:5},Gt)}};function Qt(e){v(e,"svelte-14tfekm",".add-step-container.svelte-14tfekm.svelte-14tfekm{position:relative;width:10px}.add-step.svelte-14tfekm.svelte-14tfekm{position:absolute;width:100px;height:30px;top:-15px;left:-45px;z-index:5\r\n  }.add-step-btns.svelte-14tfekm button.svelte-14tfekm{background-color:black;border:none;color:white;border-radius:100px;cursor:pointer;width:25px;height:25px}.add-step.svelte-14tfekm:hover .placeholder.svelte-14tfekm{display:none}.add-step.svelte-14tfekm:not(:hover) .add-step-btns.svelte-14tfekm{display:none}.placeholder.svelte-14tfekm.svelte-14tfekm{position:absolute;left:50%;top:50%;transform:translate(-50%, -50%);color:white;font-weight:700;background-color:black;padding:2px;width:20px;height:20px;border-radius:100px}.placeholder-text.svelte-14tfekm.svelte-14tfekm{line-height:9px;text-align:center}")}function Zt(e){let t,o,i;return{c(){t=k("button"),t.textContent="ᛣ",S(t,"type","button"),S(t,"class","svelte-14tfekm")},m(n,l){$(n,t,l),o||(i=C(t,"click",e[5]),o=!0)},p:n,d(e){e&&x(t),o=!1,i()}}}function en(e){let t,o,i;return{c(){t=k("button"),t.textContent="＋",S(t,"type","button"),S(t,"class","svelte-14tfekm")},m(n,l){$(n,t,l),o||(i=C(t,"click",e[4]),o=!0)},p:n,d(e){e&&x(t),o=!1,i()}}}function tn(e){let t,o,i,l,r;return{c(){t=k("button"),t.textContent="⬤",o=z(),i=k("button"),i.textContent="⅄",S(t,"type","button"),S(t,"class","svelte-14tfekm"),S(i,"type","button"),S(i,"class","svelte-14tfekm")},m(n,s){$(n,t,s),$(n,o,s),$(n,i,s),l||(r=[C(t,"click",e[2]),C(i,"click",e[3])],l=!0)},p:n,d(e){e&&x(t),e&&x(o),e&&x(i),l=!1,s(r)}}}function nn(e){let t,o,i,l,s;function r(e,t){return"path"===e[0]?tn:"trigger"===e[0]?en:Zt}let c=r(e),a=c(e);return{c(){t=k("div"),o=k("div"),i=k("div"),i.innerHTML='<div class="placeholder-text svelte-14tfekm">...</div>',l=z(),s=k("div"),a.c(),S(i,"class","placeholder svelte-14tfekm"),S(s,"class","add-step-btns svelte-14tfekm"),S(o,"class","add-step svelte-14tfekm"),S(t,"class","add-step-container svelte-14tfekm")},m(e,n){$(e,t,n),g(t,o),g(o,i),g(o,l),g(o,s),a.m(s,null)},p(e,[t]){c===(c=r(e))&&a?a.p(e,t):(a.d(1),a=c(e),a&&(a.c(),a.m(s,null)))},i:n,o:n,d(e){e&&x(t),a.d()}}}function on(e,t,n){let{kind:o}=t;const i=B();return e.$$set=e=>{"kind"in e&&n(0,o=e.kind)},[o,i,()=>i("select",{kind:"action"}),()=>i("select",{kind:"fork"}),()=>i("select"),()=>i("select")]}var ln=class extends ve{constructor(e){super(),ge(this,e,on,nn,c,{kind:0},Qt)}};function sn(e){v(e,"svelte-1ca9v",".fork.svelte-1ca9v.svelte-1ca9v{display:flex;flex-direction:row;padding:25px 5px;border:.5px solid black;border-radius:10px;margin:5px;position:relative;background-color:#fafafa;z-index:1}.svg-path.svelte-1ca9v.svelte-1ca9v{position:absolute;left:0;top:0;z-index:1;width:10px;height:10px;overflow:visible}.hovering.svelte-1ca9v.svelte-1ca9v{border:3px solid lightblue;padding:22.5px 2.5px}.add-step.svelte-1ca9v.svelte-1ca9v{position:absolute;top:15px;left:calc(50% - 5px);display:none}.hovering.svelte-1ca9v>.add-step.svelte-1ca9v{display:block}")}function rn(e,t,n){const o=e.slice();return o[6]=t[n],o[8]=n,o}function cn(e,t,n){const o=e.slice();return o[9]=t[n],o}function an(e){let t,n;return t=new yn({props:{def:e[9]}}),{c(){de(t.$$.fragment)},m(e,o){ue(t,e,o),n=!0},p(e,n){const o={};1&n&&(o.def=e[9]),t.$set(o)},i(e){n||(se(t.$$.fragment,e),n=!0)},o(e){re(t.$$.fragment,e),n=!1},d(e){fe(t,e)}}}function pn(e){let t,n=e[0].paths,o=[];for(let t=0;t<n.length;t+=1)o[t]=dn(rn(e,n,t));return{c(){for(let e=0;e<o.length;e+=1)o[e].c();t=_()},m(e,n){for(let t=0;t<o.length;t+=1)o[t].m(e,n);$(e,t,n)},p(e,i){if(3&i){let l;for(n=e[0].paths,l=0;l<n.length;l+=1){const s=rn(e,n,l);o[l]?o[l].p(s,i):(o[l]=dn(s),o[l].c(),o[l].m(t.parentNode,t))}for(;l<o.length;l+=1)o[l].d(1);o.length=n.length}},d(e){b(o,e),e&&x(t)}}}function dn(e){let t,n;return{c(){t=w("path"),S(t,"fill","none"),S(t,"stroke","black"),S(t,"d",n=fn(e[8],e[1]))},m(e,n){$(e,t,n)},p(e,o){2&o&&n!==(n=fn(e[8],e[1]))&&S(t,"d",n)},d(e){e&&x(t)}}}function un(e){let t,n,o,i,l,s,r,c;o=new ln({props:{kind:"branch"}}),o.$on("select",e[2]);let a=e[0].paths,p=[];for(let t=0;t<a.length;t+=1)p[t]=an(cn(e,a,t));const d=e=>re(p[e],1,1,(()=>{p[e]=null}));let u=e[1]&&pn(e);return{c(){t=k("div"),n=k("div"),de(o.$$.fragment),i=z();for(let e=0;e<p.length;e+=1)p[e].c();l=z(),s=w("svg"),u&&u.c(),S(n,"class","add-step svelte-1ca9v"),S(s,"class","svg-path svelte-1ca9v"),S(s,"viewBox","0 0 10 10"),S(s,"xmlns","http://www.w3.org/2000/svg"),S(s,"stroke-width","2.5"),S(s,"stroke-linecap","round"),S(t,"class",r="fork hover-target  svelte-1ca9v")},m(r,a){$(r,t,a),g(t,n),ue(o,n,null),g(t,i);for(let e=0;e<p.length;e+=1)p[e].m(t,null);g(t,l),g(t,s),u&&u.m(s,null),e[4](t),c=!0},p(e,[n]){if(1&n){let o;for(a=e[0].paths,o=0;o<a.length;o+=1){const i=cn(e,a,o);p[o]?(p[o].p(i,n),se(p[o],1)):(p[o]=an(i),p[o].c(),se(p[o],1),p[o].m(t,l))}for(ie(),o=a.length;o<p.length;o+=1)d(o);le()}e[1]?u?u.p(e,n):(u=pn(e),u.c(),u.m(s,null)):u&&(u.d(1),u=null)},i(e){if(!c){se(o.$$.fragment,e);for(let e=0;e<a.length;e+=1)se(p[e]);c=!0}},o(e){re(o.$$.fragment,e),p=p.filter(Boolean);for(let e=0;e<p.length;e+=1)re(p[e]);c=!1},d(n){n&&x(t),fe(o),b(p,n),u&&u.d(),e[4](null)}}}function fn(e,t){let n=t.children[e+1];if(!n)return 0;const o=t.offsetWidth/2,i=n.offsetHeight+30;return`\n      M ${o} -1 L ${n.offsetLeft+n.offsetWidth/2} 31\n      M ${o} ${t.offsetHeight+1} L ${n.offsetLeft+n.offsetWidth/2} ${i}\n    `}function gn(e,t,n){let o,{def:i}=t;F("parents",[...R("parents")||[],i]);let l=!1;return e.$$set=e=>{"def"in e&&n(0,i=e.def)},e.$$.update=()=>{11&e.$$.dirty&&o&&!l&&(n(3,l=!0),new ResizeObserver((()=>(n(0,i),n(1,o),n(3,l)))).observe(o))},[i,o,function(){i.paths.push({kind:"path",steps:[{kind:"action"}]}),n(0,i),n(1,o),n(3,l)},l,function(e){V[e?"unshift":"push"]((()=>{o=e,n(1,o)}))}]}var vn=class extends ve{constructor(e){super(),ge(this,e,gn,un,c,{def:0},sn)}};function hn(e){v(e,"svelte-1k8u9kl",".path.svelte-1k8u9kl.svelte-1k8u9kl{display:flex;flex-direction:column;align-items:center;text-align:center;padding:20px 5px;padding-top:20px;border:.5px solid black;border-radius:10px;margin:5px;position:relative;background-color:#fafafa;z-index:1;min-width:50px}.svg-path.svelte-1k8u9kl.svelte-1k8u9kl{position:absolute;left:50%;top:0;z-index:-10;width:10px;overflow:visible}.add-node-btn.svelte-1k8u9kl.svelte-1k8u9kl{background-color:white;border:2px solid black;border-radius:1000px;color:black;margin:15px;font-weight:400;width:60px;height:60px;font-size:60px;position:relative;cursor:pointer}.hovering.svelte-1k8u9kl.svelte-1k8u9kl{border:3px solid lightblue;padding:17.5px 2.5px}.add-step.svelte-1k8u9kl.svelte-1k8u9kl{display:none}.hovering.svelte-1k8u9kl>.add-step.svelte-1k8u9kl{display:block}")}function mn(e,t,n){const o=e.slice();return o[11]=t[n],o[13]=n,o}function $n(e){let t,n;return t=new vn({props:{def:e[11]}}),{c(){de(t.$$.fragment)},m(e,o){ue(t,e,o),n=!0},p(e,n){const o={};1&n&&(o.def=e[11]),t.$set(o)},i(e){n||(se(t.$$.fragment,e),n=!0)},o(e){re(t.$$.fragment,e),n=!1},d(e){fe(t,e)}}}function xn(e){let t,n;return t=new Yt({props:{def:e[11]}}),t.$on("remove",(function(){return e[6](e[13])})),{c(){de(t.$$.fragment)},m(e,o){ue(t,e,o),n=!0},p(n,o){e=n;const i={};1&o&&(i.def=e[11]),t.$set(i)},i(e){n||(se(t.$$.fragment,e),n=!0)},o(e){re(t.$$.fragment,e),n=!1},d(e){fe(t,e)}}}function bn(e){let t,n,o,i,l,s;const r=[xn,$n],c=[];function a(e,t){return"action"===e[11].kind?0:"fork"===e[11].kind?1:-1}return~(t=a(e))&&(n=c[t]=r[t](e)),l=new ln({props:{kind:"path"}}),l.$on("select",(function(...t){return e[7](e[13],...t)})),{c(){n&&n.c(),o=z(),i=k("div"),de(l.$$.fragment),S(i,"class","add-step svelte-1k8u9kl")},m(e,n){~t&&c[t].m(e,n),$(e,o,n),$(e,i,n),ue(l,i,null),s=!0},p(i,l){let s=t;t=a(e=i),t===s?~t&&c[t].p(e,l):(n&&(ie(),re(c[s],1,1,(()=>{c[s]=null})),le()),~t?(n=c[t],n?n.p(e,l):(n=c[t]=r[t](e),n.c()),se(n,1),n.m(o.parentNode,o)):n=null)},i(e){s||(se(n),se(l.$$.fragment,e),s=!0)},o(e){re(n),re(l.$$.fragment,e),s=!1},d(e){~t&&c[t].d(e),e&&x(o),e&&x(i),fe(l)}}}function kn(e){let t,n,o,i,l,s,r,c,a;o=new ln({props:{kind:"path"}}),o.$on("select",e[5]);let p=e[0].steps,d=[];for(let t=0;t<p.length;t+=1)d[t]=bn(mn(e,p,t));const u=e=>re(d[e],1,1,(()=>{d[e]=null}));return{c(){t=k("div"),n=k("div"),de(o.$$.fragment),i=z();for(let e=0;e<d.length;e+=1)d[e].c();l=z(),s=w("svg"),r=w("path"),S(n,"class","add-step svelte-1k8u9kl"),S(r,"fill","none"),S(r,"stroke","black"),S(r,"d",e[2]),S(s,"class","svg-path svelte-1k8u9kl"),S(s,"viewBox","0 0 10 10"),S(s,"xmlns","http://www.w3.org/2000/svg"),S(s,"stroke-width","2.5"),S(s,"stroke-linecap","round"),S(t,"class",c="path hover-target  svelte-1k8u9kl")},m(c,p){$(c,t,p),g(t,n),ue(o,n,null),g(t,i);for(let e=0;e<d.length;e+=1)d[e].m(t,null);g(t,l),g(t,s),g(s,r),e[8](t),a=!0},p(e,[n]){if(25&n){let o;for(p=e[0].steps,o=0;o<p.length;o+=1){const i=mn(e,p,o);d[o]?(d[o].p(i,n),se(d[o],1)):(d[o]=bn(i),d[o].c(),se(d[o],1),d[o].m(t,l))}for(ie(),o=p.length;o<d.length;o+=1)u(o);le()}(!a||4&n)&&S(r,"d",e[2])},i(e){if(!a){se(o.$$.fragment,e);for(let e=0;e<p.length;e+=1)se(d[e]);a=!0}},o(e){re(o.$$.fragment,e),d=d.filter(Boolean);for(let e=0;e<d.length;e+=1)re(d[e]);a=!1},d(n){n&&x(t),fe(o),b(d,n),e[8](null)}}}function wn(e,t,n){let o,{def:i}=t;function l(e,t){if("action"===e)i.steps.splice(t,0,{kind:"action"});else if("fork"===e){const n={kind:e,paths:[{kind:"path",steps:i.steps.splice(t)},{kind:"path",steps:[{kind:"action"}]}]};i.steps.push(n)}n(0,i)}F("parents",[...R("parents"),i]);let s="",r=new ResizeObserver((()=>n(2,s="M 0 1 v "+(o?.offsetHeight-3))));var c;function a(e){i.steps.splice(e,1),n(0,i)}c=()=>{r.disconnect()},W().$$.on_destroy.push(c);return e.$$set=e=>{"def"in e&&n(0,i=e.def)},e.$$.update=()=>{2&e.$$.dirty&&o&&r.observe(o)},[i,o,s,l,a,e=>l(e.detail.kind,0),e=>a(e),(e,t)=>l(t.detail.kind,e+1),function(e){V[e?"unshift":"push"]((()=>{o=e,n(1,o)}))}]}var yn=class extends ve{constructor(e){super(),ge(this,e,wn,kn,c,{def:0},hn)}};function zn(e){v(e,"svelte-gmdnv9",".trigger-set.svelte-gmdnv9{display:flex;flex-direction:row;padding:5px;border:.5px solid black;border-radius:10px;margin:5px;position:relative}.add-trigger.svelte-gmdnv9{position:absolute;right:-45px;top:calc(50% - 5px)}.hovering.svelte-gmdnv9{border:3px solid lightblue;padding:2.5px 2.5px}")}function _n(e,t,n){const o=e.slice();return o[2]=t[n],o}function Cn(e){let t,n;return t=new Yt({props:{kind:"trigger",def:e[2]}}),{c(){de(t.$$.fragment)},m(e,o){ue(t,e,o),n=!0},p(e,n){const o={};1&n&&(o.def=e[2]),t.$set(o)},i(e){n||(se(t.$$.fragment,e),n=!0)},o(e){re(t.$$.fragment,e),n=!1},d(e){fe(t,e)}}}function Sn(e){let t,n,o,i,l,s,r=e[0],c=[];for(let t=0;t<r.length;t+=1)c[t]=Cn(_n(e,r,t));const a=e=>re(c[e],1,1,(()=>{c[e]=null}));return i=new ln({props:{kind:"trigger"}}),i.$on("select",e[1]),{c(){t=k("div");for(let e=0;e<c.length;e+=1)c[e].c();n=z(),o=k("div"),de(i.$$.fragment),S(o,"class","add-trigger svelte-gmdnv9"),S(t,"class",l="trigger-set hover-target  svelte-gmdnv9")},m(e,l){$(e,t,l);for(let e=0;e<c.length;e+=1)c[e].m(t,null);g(t,n),g(t,o),ue(i,o,null),s=!0},p(e,[o]){if(1&o){let i;for(r=e[0],i=0;i<r.length;i+=1){const l=_n(e,r,i);c[i]?(c[i].p(l,o),se(c[i],1)):(c[i]=Cn(l),c[i].c(),se(c[i],1),c[i].m(t,n))}for(ie(),i=r.length;i<c.length;i+=1)a(i);le()}},i(e){if(!s){for(let e=0;e<r.length;e+=1)se(c[e]);se(i.$$.fragment,e),s=!0}},o(e){c=c.filter(Boolean);for(let e=0;e<c.length;e+=1)re(c[e]);re(i.$$.fragment,e),s=!1},d(e){e&&x(t),b(c,e),fe(i)}}}function En(e,t,n){let{triggers:o}=t;return e.$$set=e=>{"triggers"in e&&n(0,o=e.triggers)},[o,function(e,t){o.push({kind:"trigger"}),n(0,o)}]}var Nn=class extends ve{constructor(e){super(),ge(this,e,En,Sn,c,{triggers:0},zn)}};function Tn(e){v(e,"svelte-1w7nlg6",".workflow-editor.svelte-1w7nlg6{display:flex;align-items:stretch;justify-content:center;width:100%;height:100%\r\n  }.workflow-view-panel.svelte-1w7nlg6{padding-top:35px;min-width:700px;flex-grow:5}.workflow-view-container.svelte-1w7nlg6{max-width:900px;margin-left:auto;margin-right:auto}.title-input.svelte-1w7nlg6{border:none;outline:none;background-color:#fafafa;font-size:36px;width:700px;font-weight:300}.node-flow.svelte-1w7nlg6{display:flex;flex-direction:column;align-items:center;padding-top:10px}.section-headers.svelte-1w7nlg6{font-size:30px;font-weight:300;margin:10px}.btn.svelte-1w7nlg6{font-size:18px;font-weight:300;margin-left:15px;border:1px solid gainsboro;padding:5px 10px 5px 10px;border-radius:2px;vertical-align:middle;box-shadow:0px 2px 10px -8px;background-color:rgb(250, 250, 250)}.btn.svelte-1w7nlg6:hover{cursor:pointer}")}function Dn(e){let t,n,o,i,l,r,c,a,p,d,u,f,v,h,m,b,w,y,_,E,N,A,I;return h=new Nn({props:{triggers:e[0].triggers}}),y=new yn({props:{def:e[0].path}}),{c(){t=k("div"),n=k("div"),o=k("div"),i=k("p"),l=k("button"),l.textContent="Close",r=z(),c=k("button"),c.textContent="Save",a=z(),p=k("input"),d=z(),u=k("div"),f=k("div"),f.textContent="Triggers",v=z(),de(h.$$.fragment),m=z(),b=k("div"),b.textContent="Workflow",w=z(),de(y.$$.fragment),_=z(),E=k("div"),S(l,"class","close-workflow btn svelte-1w7nlg6"),S(l,"type","button"),S(c,"type","button"),S(c,"class","action-editor-save-btn btn svelte-1w7nlg6"),D(i,"float","right"),S(p,"class","title-input svelte-1w7nlg6"),S(p,"type","text"),S(p,"placeholder","Title"),S(f,"class","section-headers svelte-1w7nlg6"),S(b,"class","section-headers svelte-1w7nlg6"),S(u,"class","node-flow svelte-1w7nlg6"),S(o,"class","workflow-view-container svelte-1w7nlg6"),S(n,"class","workflow-view-panel svelte-1w7nlg6"),S(t,"class","workflow-editor svelte-1w7nlg6"),S(E,"id","action-editor-portal")},m(s,x){$(s,t,x),g(t,n),g(n,o),g(o,i),g(i,l),g(i,r),g(i,c),g(o,a),g(o,p),T(p,e[0].title),g(o,d),g(o,u),g(u,f),g(u,v),ue(h,u,null),g(u,m),g(u,b),g(u,w),ue(y,u,null),$(s,_,x),$(s,E,x),N=!0,A||(I=[C(l,"click",e[2]),C(c,"click",e[1]),C(p,"input",e[4])],A=!0)},p(e,t){1&t&&p.value!==e[0].title&&T(p,e[0].title);const n={};1&t&&(n.triggers=e[0].triggers),h.$set(n);const o={};1&t&&(o.def=e[0].path),y.$set(o)},i(e){N||(se(h.$$.fragment,e),se(y.$$.fragment,e),N=!0)},o(e){re(h.$$.fragment,e),re(y.$$.fragment,e),N=!1},d(e){e&&x(t),fe(h),fe(y),e&&x(_),e&&x(E),A=!1,s(I)}}}function An(e){let t,n,o,i,l=e[0]&&Dn(e);return{c(){l&&l.c(),t=_()},m(e,s){l&&l.m(e,s),$(e,t,s),n=!0,o||(i=C(window,"mouseover",In),o=!0)},p(e,[n]){e[0]?l?(l.p(e,n),1&n&&se(l,1)):(l=Dn(e),l.c(),se(l,1),l.m(t.parentNode,t)):l&&(ie(),re(l,1,1,(()=>{l=null})),le())},i(e){n||(se(l),n=!0)},o(e){re(l),n=!1},d(e){l&&l.d(e),e&&x(t),o=!1,i()}}}function In(e){let t=e.target.closest(".hover-target");if(!t?.matches(".hovering")){for(let e of document.querySelectorAll(".hovering"))e.classList.remove("hovering");t?.classList.add("hovering")}}function Ln(e,t,n){let o,{workflowId:i}=t;i?ke.getWorkflow(i).then((e=>n(0,o=e))):o={kind:"workflow",triggers:[{kind:"trigger"}],path:{id:0,kind:"path",steps:[{kind:"action"}]}};let l,s=R("history");return e.$$set=e=>{"workflowId"in e&&n(3,i=e.workflowId)},e.$$.update=()=>{1&e.$$.dirty&&F("parents",[o]),1&e.$$.dirty&&(l=JSON.stringify(o||null,null,2))},[o,async function(){let e={...o,lastModifiedAt:(new Date).toLocaleString()};o.id?n(0,o=await ke.updateWorkflow(o.id,e)):(n(0,o=await ke.createWorkflow(e)),s.pushState(`/workflow/?workflow-id=${o.id}`))},function(){s.pushState("/")},i,function(){o.title=this.value,n(0,o)}]}var Mn=class extends ve{constructor(e){super(),ge(this,e,Ln,An,c,{workflowId:3},Tn)}};const{window:On}=ce;function Wn(e){let t,n,i,l,s;const r=[e[0]];var c=e[1];function a(e){let t={};for(let e=0;e<r.length;e+=1)t=o(t,r[e]);return{props:t}}return c&&(t=new c(a())),{c(){t&&de(t.$$.fragment),n=_()},m(o,r){t&&ue(t,o,r),$(o,n,r),i=!0,l||(s=C(On,"popstate",e[2]),l=!0)},p(e,[o]){const i=1&o?function(e,t){const n={},o={},i={$$scope:1};let l=e.length;for(;l--;){const s=e[l],r=t[l];if(r){for(const e in s)e in r||(o[e]=1);for(const e in r)i[e]||(n[e]=r[e],i[e]=1);e[l]=r}else for(const e in s)i[e]=1}for(const e in o)e in n||(n[e]=void 0);return n}(r,[(l=e[0],"object"==typeof l&&null!==l?l:{})]):{};var l;if(c!==(c=e[1])){if(t){ie();const e=t;re(e.$$.fragment,1,0,(()=>{fe(e,1)})),le()}c?(t=new c(a()),de(t.$$.fragment),se(t.$$.fragment,1),ue(t,n.parentNode,n)):t=null}else c&&t.$set(i)},i(e){i||(t&&se(t.$$.fragment,e),i=!0)},o(e){t&&re(t.$$.fragment,e),i=!1},d(e){e&&x(n),t&&fe(t,e),l=!1,s()}}}function jn(e,t,n){let o=R("history");o.pushState=function(e){window.history.pushState({},"lowcodeDevKit",e),s()},o.back=window.history.back;let i={},l=null;function s(){n(1,[l,i]=function(e){const t=e.pathname.trim().split("/").filter(Boolean).join("/").toLowerCase(),n=new URLSearchParams(e.search);if("workflow"===t){const e=n.get("workflow-id");return[Mn,{workflowId:e}]}return[De,{}]}(window.location),l,n(0,i))}return j((()=>s())),[i,l,s]}var Bn=class extends ve{constructor(e){super(),ge(this,e,jn,Wn,c,{})}};function Fn(e){v(e,"svelte-11cir4s",".background.svelte-11cir4s{background-color:#fafafa;position:fixed;left:0;right:0;top:0;bottom:0;font-family:'Roboto', sans-serif;overflow-y:auto}")}function Rn(e){let t,o,i,l,s,r;return o=new xe({}),s=new Bn({}),{c(){t=k("div"),de(o.$$.fragment),i=z(),l=k("div"),de(s.$$.fragment),S(l,"class","main-body"),S(t,"class","background svelte-11cir4s")},m(e,n){$(e,t,n),ue(o,t,null),g(t,i),g(t,l),ue(s,l,null),r=!0},p:n,i(e){r||(se(o.$$.fragment,e),se(s.$$.fragment,e),r=!0)},o(e){re(o.$$.fragment,e),re(s.$$.fragment,e),r=!1},d(e){e&&x(t),fe(o),fe(s)}}}function qn(e){return F("history",{pushState(){}}),[]}var Pn=class extends ve{constructor(e){super(),ge(this,e,qn,Rn,c,{},Fn)}};var Vn;function Hn(){return JSON.parse(localStorage.getItem("workflows")||"[]")}function Un(e){localStorage.setItem("workflows",JSON.stringify(e))}Vn=JSON.parse('{"eventDefs":[{"title":"Case created","inputSchema":{"properties":{}},"kind":"event-type","type":"case-created"},{"title":"Case status changed","inputSchema":{"properties":{}},"kind":"event-type","type":"case-status-changed"},{"title":"Email received","inputSchema":{"properties":{}},"kind":"event-type","type":"email-received"},{"title":"Payment received","inputSchema":{"properties":{}},"kind":"event-type","type":"payment-received"},{"title":"Product review submitted","inputSchema":{"properties":{}},"kind":"event-type","type":"review-submitted"},{"title":"Tag added to case","inputSchema":{"properties":{}},"kind":"event-type","type":"tag-added"}],"actionDefs":[{"title":"Add user to mailing list","inputSchema":{"properties":{"userId":{"type":"string","title":"User"},"mailingList":{"type":"string","title":"Mailing List"}}},"kind":"action-type","type":"add-to-mailing-list"},{"title":"Set lifecycle stage","inputSchema":{"properties":{"caseId":{"type":"string","title":"Case ID"},"lifecycleStage":{"type":"string","title":"Lifecycle stage"}}},"kind":"action-type","type":"set-lifecycle-stage"},{"title":"Create to-do item","inputSchema":{"properties":{"itemName":{"type":"string","title":"Name"},"description":{"type":"string","title":"Description"}}},"kind":"action-type","type":"create-action-item"},{"title":"Create user","inputSchema":{"properties":{"username":{"type":"string","title":"Username"},"emailAddress":{"type":"string","title":"Email address"},"firstName":{"type":"string","title":"First name"},"lastName":{"type":"string","title":"Last name"}}},"kind":"action-type","type":"create-user"},{"title":"Retrieve file","inputSchema":{"properties":{"fileName":{"type":"string","title":"File name"}}},"kind":"action-type","type":"get-file"},{"title":"Save file","inputSchema":{"properties":{"fileName":{"type":"string","title":"File name"},"fileData":{"type":"string","title":"File"}}},"kind":"action-type","type":"save-file"},{"title":"Send email","inputSchema":{"properties":{"to":{"type":"string","title":"To"},"subject":{"type":"string","title":"Subject"},"body":{"type":"string","title":"Body"},"cc":{"type":"string","title":"CC"}}},"kind":"action-type","type":"send-email"},{"title":"Send invoice","inputSchema":{"properties":{"username":{"type":"string","title":"Username"}}},"kind":"action-type","type":"send-invoice"},{"title":"Send slack message","inputSchema":{"properties":{"channel":{"type":"string","title":"Channel"},"message":{"type":"string","title":"Message"}}},"kind":"action-type","type":"send-slack-message"},{"title":"Send text message","inputSchema":{"properties":{"phoneNumber":{"type":"string","title":"Phone number"},"message":{"type":"string","title":"Message"}}},"kind":"action-type","type":"send-text-message"},{"title":"Set assignee","inputSchema":{"properties":{"caseId":{"type":"string","title":"Case ID"},"assignee":{"type":"string","title":"Assignee"}}},"kind":"action-type","type":"set-assignee"},{"title":"Set case followup date","inputSchema":{"properties":{"caseId":{"type":"string","title":"Case ID"},"followupDate":{"type":"string","title":"Followup date"}}},"kind":"action-type","type":"set-case-followup-date"},{"title":"Track analytics event","inputSchema":{"properties":{"caseId":{"type":"string","title":"Case ID"},"name":{"type":"string","title":"Name"},"details":{"type":"string","title":"Details"}}},"kind":"action-type","type":"track-analytics-event"}]}'),ke.getAllWorkflows=async function(){return JSON.parse(localStorage.getItem("workflows")||"[]")},ke.getMetadata=async function(){return t(Vn)},ke.getWorkflow=async function(e){return Hn().find((t=>t.id===e))},ke.createWorkflow=async function(e){e.id=crypto.randomUUID();let t=Hn();return t.push(e),Un(t),e},ke.updateWorkflow=async function(e,t){let n=Hn(),o=n.findIndex((t=>t.id===e));return n.splice(o,1,t),Un(n),t},ke.deleteWorkflows=async function(e){let t=Hn(),n=t.findIndex((t=>t.id===e));t.splice(n,1),Un(t)},new Pn({target:document.body}),document.querySelector(".nav-bar").appendChild(document.getElementById("example-app-code-link"));
//# sourceMappingURL=index.10babd2e.js.map
